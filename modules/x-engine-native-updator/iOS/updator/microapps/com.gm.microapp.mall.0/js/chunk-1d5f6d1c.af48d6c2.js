(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d5f6d1c"],{"0f51":function(t,a,e){"use strict";e("2fbb")},"2fbb":function(t,a,e){},"626e":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"reviews"},[e("AddCart",{ref:"addCart",attrs:{showCart:t.showCart,normsObj:t.cartData.normsObj,proArr:t.cartData.proArr,cartData:t.cartData,backupsData:t.cartData.dataArr},on:{setShowCart:t.setShowCart}})],1)},r=[],i=e("ada0"),n={name:"Cart",components:{AddCart:i["a"]},data:function(){return{showCart:!0,cartData:{price:"99.99",allNum:100,cover:"https://img1.baidu.com/it/u=2496571732,442429806&fm=26&fmt=auto&gp=0.jpg",normsObj:{norms0Name:"尺寸",norms1Name:"颜色",norms2Name:"类型"},proArr:[{proId:1,type0Id:11,type0Desc:"S",type1Id:21,type1Desc:"黑色",type2Id:31,type2Desc:"无袖",hasNum:10},{proId:2,type0Id:11,type0Desc:"S",type1Id:21,type1Desc:"黑色",type2Id:32,type2Desc:"有袖",hasNum:80},{proId:3,type0Id:11,type0Desc:"S",type1Id:22,type1Desc:"白色",type2Id:32,type2Desc:"有袖",hasNum:100},{proId:4,type0Id:11,type0Desc:"S",type1Id:23,type1Desc:"红色",type2Id:32,type2Desc:"有袖",hasNum:70},{proId:5,type0Id:12,type0Desc:"M",type1Id:22,type1Desc:"白色",type2Id:32,type2Desc:"有袖",hasNum:20},{proId:6,type0Id:12,type0Desc:"M",type1Id:21,type1Desc:"黑色",type2Id:31,type2Desc:"无袖",hasNum:50},{proId:7,type0Id:13,type0Desc:"L",type1Id:23,type1Desc:"红色",type2Id:32,type2Desc:"有袖",hasNum:40},{proId:8,type0Id:13,type0Desc:"L",type1Id:22,type1Desc:"白色",type2Id:31,type2Desc:"无袖",hasNum:88}],dataArr:[{id:1,name:"尺寸",child:[{id:11,value:"S"},{id:12,value:"M"},{id:13,value:"L"}]},{id:2,name:"颜色",child:[{id:21,value:"红色"},{id:22,value:"黄色"},{id:23,value:"蓝色"}]},{id:3,name:"类型",child:[{id:31,value:"无袖"},{id:32,value:"有袖"}]}],proList:[{1:11,2:21,3:31,id:1,num:10},{1:11,2:21,3:32,id:2,num:10},{1:11,2:22,3:31,id:3,num:10},{1:11,2:23,3:31,id:4,num:10},{1:12,2:21,3:31,id:5,num:10},{1:12,2:22,3:32,id:6,num:10}]}}},created:function(){var t=this;this.$nextTick((function(){t.$refs.addCart.showCart=!0}))},methods:{setStepperValue:function(t){},setShowCart:function(t){this.showCart=t}}},c=n,l=e("2877"),A=Object(l["a"])(c,s,r,!1,null,null,null);a["default"]=A.exports},a434:function(t,a,e){"use strict";var s=e("23e7"),r=e("23cb"),i=e("a691"),n=e("50c4"),c=e("7b0b"),l=e("65f0"),A=e("8418"),h=e("1dde"),o=h("splice"),d=Math.max,p=Math.min,u=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!o},{splice:function(t,a){var e,s,h,o,f,g,v=c(this),y=n(v.length),b=r(t,y),C=arguments.length;if(0===C?e=s=0:1===C?(e=0,s=y-b):(e=C-2,s=p(d(i(a),0),y-b)),y+e-s>u)throw TypeError(m);for(h=l(v,s),o=0;o<s;o++)f=b+o,f in v&&A(h,o,v[f]);if(h.length=s,e<s){for(o=b;o<y-s;o++)f=o+s,g=o+e,f in v?v[g]=v[f]:delete v[g];for(o=y;o>y-s+e;o--)delete v[o-1]}else if(e>s)for(o=y-s;o>b;o--)f=o+s-1,g=o+e-1,f in v?v[g]=v[f]:delete v[g];for(o=0;o<e;o++)v[o+b]=arguments[o+2];return v.length=y-s+e,h}})},ada0:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"add-to-cart"},[e("van-action-sheet",{staticClass:"container",style:{height:t.popupHeight},attrs:{round:!1},model:{value:t.showCart,callback:function(a){t.showCart=a},expression:"showCart"}},[e("div",[e("div",{staticClass:"cart-header"},[e("van-image",{staticClass:"cart-cover",attrs:{src:t.lastArr.length>0?t.lastArr[0].mainPicUrl:t.cartData.cover,"error-icon":t.defaultAvatar,fit:"cover"}}),e("div",{staticClass:"cart-price-content"},[e("p",{staticClass:"price"},[t._v("¥"+t._s(t.lastArr.length>0?t.lastArr[0].salePrice:t.cartData.price))]),e("p",{staticClass:"tips"},[t._v("请选择 "+t._s(t.spuName.toString()))])])],1),e("div",{staticClass:"content",style:{opacity:t.opacity}},[e("ul",{staticClass:"norms-content"},[t._l(t.dataArr,(function(a,s){return e("li",{key:s},[e("p",{staticClass:"title"},[t._v(t._s(a.name))]),e("div",{staticClass:"norms-list"},t._l(a.child,(function(a,r){return e("span",{key:r,class:t.clickIndexObj[s]==r?a.disable?"norms-list-tag active disable":"norms-list-tag active":a.disable?"norms-list-tag disable":"norms-list-tag",on:{click:function(e){return t.clickItems(a,s,r)}}},[t._v(t._s(a.value))])})),0)])})),e("li",[e("p",{staticClass:"title"},[t._v("购买数量")]),e("div",{staticClass:"buy-content"},[e("span",{staticClass:"hasNum"},[t._v("库存"+t._s(1===t.lastArr.length?t.lastArr[0].stockNum?t.lastArr[0].stockNum:0:t.hasClickArr.length===t.dataArr.length?0:t.cartDataObj.allNum)+"件")]),e("van-stepper",{attrs:{max:1===t.lastArr.length?t.lastArr[0].stockNum?t.lastArr[0].stockNum:0:t.hasClickArr.length===t.dataArr.length?0:t.cartDataObj.allNum},on:{change:t.changeNum},model:{value:t.stepperValue,callback:function(a){t.stepperValue=a},expression:"stepperValue"}})],1)])],2),"service"==t.goodsType?e("div",{staticClass:"other-charges"},[e("p",{staticClass:"title"},[e("span",{staticClass:"left-content"},[t._v("额外收费项"),e("span",{staticClass:"tips"},[t._v("*没有时不收取")])]),e("span",{staticClass:"right-btn",on:{click:t.viewAllexarge}},[t._v("查看全部"),e("van-icon",{staticClass:"arrow-icon",attrs:{name:"arrow",color:"#999999",size:"6"}})],1)]),e("p",{staticClass:"tip-content"},[t._v("如有大型家电家具等情况需额外收费")])]):t._e(),"service"==t.goodsType?e("div",{staticClass:"other-cart"},[e("p",{staticClass:"title"},[t._v("购买数量")]),e("ul",{staticClass:"other-cart-content"},[e("li",{staticClass:"other-cart-list"},[e("span",{staticClass:"left-content"},[e("span",[t._v("冷凝剂")]),e("span",[t._v("进口冷凝剂")]),e("span",[t._v("¥32.00")])]),e("van-stepper",{model:{value:t.stepperValue,callback:function(a){t.stepperValue=a},expression:"stepperValue"}})],1),e("li",{staticClass:"other-cart-list"},[e("span",{staticClass:"left-content"},[e("span",[t._v("冷凝剂")]),e("span",[t._v("进口冷凝剂")]),e("span",[t._v("¥32.00")])]),e("van-stepper",{model:{value:t.stepperValue,callback:function(a){t.stepperValue=a},expression:"stepperValue"}})],1)])]):t._e()]),e("div",{staticClass:"bottom-btn",style:{height:t.bottomHeight}},[0==t.type||3==t.type?e("van-button",{class:t.noStonum?3==t.type?"temporary tobuy-btn disable":"tobuy-btn disable":3==t.type?"temporary tobuy-btn":"tobuy-btn",attrs:{type:"primary"},on:{click:function(a){return t.addCart(t.noStonum)}}},[t._v(t._s(3==t.type?"加入购物车":"确定"))]):t._e(),1==t.type||3==t.type?e("van-button",{class:t.noStonum?"tobuy-btn disable":"tobuy-btn",attrs:{type:"primary"},on:{click:function(a){return t.submit(t.noStonum)}}},[t._v("立即购买")]):t._e(),2==t.type?e("van-button",{class:t.noStonum?"tobuy-btn disable":"tobuy-btn",attrs:{type:"primary"},on:{click:function(a){return t.addCart(t.noStonum)}}},[t._v("选好了")]):t._e()],1)])])],1)},r=[],i=(e("a9e3"),e("c975"),e("d81d"),e("a434"),e("ee87")),n={name:"AddCart",props:{cartData:{type:Object,default:function(){}},type:{type:Number,default:0},goodsType:{type:String,default:""}},components:{},data:function(){return{opacity:1,noStonum:!1,cartDataObj:{},showCart:!1,defaultAvatar:i,dataArr:[],setArr:[],clickIndex:1,change:!1,stepperValue:1,clickIndexObj:{},hasClickObj:{},hasClickArr:[],lastArr:[],hasClickArrIndex:[],spuName:""}},mounted:function(){},computed:{bottomHeight:function(){return this.$tabbarHeight+"px"},popupHeight:function(){return this.$clientHeight-this.$navigatorHeight-this.$statusHeight+"px"}},watch:{showCart:function(t){t&&(this.opacity=1),this.$emit("setShowCart",t)},stepperValue:function(t){this.$emit("setStepperValue",t)}},methods:{changeArr:function(t,a,e,s){if(this.cartDataObj=t,this.lastArr=[],this.dataArr=[],this.setArr=[],this.clickIndexObj={},this.hasClickObj={},this.hasClickArr=[],this.lastArr=[],this.hasClickArrIndex=[],t.normsObj){for(var r=0;r<5;r++)if(t.normsObj["norms"+r+"Name"]){for(var i={},n=[],c=[],l=0;l<t.proArr.length;l++)if(t.proArr[l]["specVal"+(r+1)+"Id"]&&c.indexOf(t.proArr[l]["specVal"+(r+1)+"Id"])<0){var A={};c.push(t.proArr[l]["specVal"+(r+1)+"Id"]),A.id=t.proArr[l]["specVal"+(r+1)+"Id"],A.value=t.proArr[l]["specVal"+(r+1)+"Value"],A.stockNum=t.proArr[l]["stockNum"],n.push(A)}i.name=t.normsObj["norms"+r+"Name"],i.child=n,this.dataArr.push(i)}this.spuName=this.dataArr.map((function(t){return t.name}))}if(0===t.allNum)for(var h=0;h<this.dataArr.length;h++)for(var o=0;o<this.dataArr[h].child.length;o++)this.dataArr[h].child[o].disable=!0;if(1===this.dataArr.length)for(var d=0;d<this.dataArr.length;d++)for(var p=0;p<this.dataArr[d].child.length;p++)this.dataArr[d].child[p].stockNum<=0&&(this.dataArr[d].child[p].disable=!0);if(a){for(var u=[],m=JSON.parse(s),f=0;f<m.length;f++)u.push(m[f].featureValue);for(var g=0;g<this.dataArr.length;g++)for(var v=0;v<this.dataArr[g].child.length;v++)if(u.indexOf(this.dataArr[g].child[v].value)>=0){this.clickItems(this.dataArr[g].child[v],g,v);break}}},clickItems:function(t,a,e){if(void 0===this.clickIndexObj[a]&&this.clickIndexObj[a]!==e){this.clickIndexObj[a]=e,this.hasClickObj[a]=t.id;for(var s=[],r=[],i=0;i<this.dataArr.length;i++)this.hasClickObj[i]&&(s.push(this.hasClickObj[i]),r.push(i));this.hasClickArr=s,this.hasClickArrIndex=r,this.$forceUpdate(),this.getSku(t,a,e),this.changeDisable(a,t.id)}else{void 0!==this.clickIndexObj[a]&&this.clickIndexObj[a]!==e&&1===this.clickIndex&&(this.clickIndex+=1,this.change=!0),delete this.clickIndexObj[a],delete this.hasClickObj[a],this.hasClickArrIndex.splice(this.hasClickArrIndex.indexOf(a),1),this.hasClickArr=[];for(var n=0;n<this.dataArr.length;n++)this.hasClickObj[n];this.$forceUpdate(),this.getSku(t,a,e),this.change?(this.change=!1,this.changeDisable(a,this.hasClickObj[a],!0),this.clickItems(t,a,e)):this.changeDisable(a,t.id,!0)}this.clickIndex=1},getSku:function(t,a,e){this.lastArr=[];for(var s=0;s<this.cartDataObj.proArr.length;s++)for(var r=0;r<this.hasClickArrIndex.length;r++){if(this.hasClickArr.indexOf(this.cartDataObj.proArr[s]["specVal"+(this.hasClickArrIndex[r]+1)+"Id"])<0)break;r===this.hasClickArrIndex.length-1&&this.lastArr.push(this.cartDataObj.proArr[s])}1===this.lastArr.length?(this.$emit("getData",this.lastArr[0]),(!this.lastArr[0].stockNum||0===this.lastArr[0].stockNum)&&this.hasClickArrIndex.length>0?this.noStonum=!0:this.noStonum=!1):0===this.lastArr.length&&this.hasClickArrIndex.length>=this.dataArr.length?this.noStonum=!0:this.hasClickArrIndex.length<this.dataArr.length&&this.$emit("getData",[])},changeDisable:function(t,a,e,s){for(var r=0;r<this.dataArr.length;r++)for(var i=0;i<this.dataArr[r].child.length;i++)if(this.hasClickArrIndex.length>0&&this.hasClickArrIndex.indexOf(r)<0?this.setArr=this.lastArr:this.setArr=this.cartDataObj.proArr,r!==t)for(var n=0;n<this.setArr.length;n++){if(this.setArr[n]["specVal"+(r+1)+"Id"]===this.dataArr[r].child[i].id&&this.setArr[n]["specVal"+(t+1)+"Id"]===a&&this.setArr[n].stockNum>0)break;n===this.setArr.length-1&&(this.dataArr[r].child[i].disable=!e)}this.$forceUpdate()},addCart:function(t){t||(this.opacity=.99,this.$emit("addCartComfirm",this.stepperValue))},submit:function(t){t||(this.opacity=.99,this.$emit("submitComfirm"))},changeNum:function(t){this.$emit("getBuyNum",t)},viewAllexarge:function(){this.$router.push({path:"/extraCharge"})}}},c=n,l=(e("0f51"),e("2877")),A=Object(l["a"])(c,s,r,!1,null,null,null);a["a"]=A.exports},ee87:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAP1BMVEUAAAD4+Pj39/f29vb19fXw8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7///8zJ5QuAAAABXRSTlMAJD2/7XxuZKkAAALNSURBVHja7dtrcqswDAVgEcDGIq4h1v7Xen/caZs2IQW/iqbnrEBfxgcZZkJEXc9K03dERJeBnTWjuhjreLgQdQNPo9JMPHTU651/HCfuid2oOI6JrWaAZWKjGWCYeFQdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACax1zXGNer0QpwUUREJDqdgPf5UwRnAJiP+UWiUQi4yl2uCgHrPWBVCIj3gAgAjtDfK7H6x+jpFtl0nac0wTmuEl5ExOu9zPn/P6ZvdPyKAzJOwykA9rOPViVgTV9JpwCE+50U9AFm+ZJZG2CKXwFx0gUwN/mWm1EFWOQhiyaAlyfxegAsT8NaAN8L3KrIpQCPBX5dZMOF/r9WChBkM8/22TWKxPlEAC8v4rcW3nwagIuvAA8X0/e+lOhHEYB9Of/DxfSzLwUWXRHAKj9k3epLOAUgyI8Jpb6i1ADMsiPzxsLIrkE+YIp7AB+Dfl8YuTXIBmxvsOeDhj1roiVgkZ1ZHgtQoga5AC+74zcWRt73i0wAy4HwxnnLqkEeYF+BP4u8vDpdvwDYW+APwf7bUhtAkELJqEEOwEuxpH/GywC4WA6Q/hkvHWBLzi/y1hywStlwY0AoPH9qDVIBsxTP2hIwxfKAtBqkAY5usJ2ZmwGWKvMnvd0kAbxUymqaAFiqJbQAVClw8tvNcUClAqfW4DggSNUcfbs5DPBSOaEuwMXagIM1OAiw9ec/+HZzELBKgxyqwTHALE3yVg0Q2gBuAPzyEfL1SrwoL/E4+lvtB+ntzdS9SpwsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAGM3zGya2mgGWiZ1mgGPqedI7/8Q9dYNewcRDR3QZ2FmFTTbW8XAhIup6Vpq+I/oHlUqlUPej+ikAAAAASUVORK5CYII="}}]);