(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22e63875"],{"454c":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},[e("gm-header",{attrs:{hideItem:["center"],slotsShow:["left","right"],"background-color":"#fff"},scopedSlots:t._u([{key:"dynamicsLeft",fn:function(){return[e("div",{staticClass:"nav-left"},[e("van-icon",{attrs:{size:"20",name:"arrow-left"}}),e("span",{staticClass:"nav-title"},[t._v(t._s("00"===t.$route.query.integralType?"我的个人积分":"我的家庭积分"))])],1)]},proxy:!0},{key:"dynamicsRight",fn:function(){return[e("van-icon",{staticClass:"integralHelp",attrs:{name:"question-o"},on:{click:function(s){t.isPopup=!0}}})]},proxy:!0}])}),e("listPagination",{ref:"listPagination",attrs:{"data-list":t.dataLists,formatAjaxData:t.init,isRefresh:t.isRefresh,slotsShow:["finished","error"]},on:{"update:dataList":function(s){t.dataLists=s},"update:data-list":function(s){t.dataLists=s},"update:isRefresh":function(s){t.isRefresh=s},"update:is-refresh":function(s){t.isRefresh=s}},scopedSlots:t._u([{key:"finished",fn:function(){return[e("div",{staticClass:"reminder"},[t.dataLists.length?e("div",[t._v("没有更多了")]):e("div",{staticClass:"error-body"},[e("div",{staticClass:"error-text"},[t._v("暂无积分列表")])])])]},proxy:!0},{key:"error",fn:function(){return[e("div",[t._v("请求失败，点击重新加载")])]},proxy:!0}])},t._l(t.dataLists,(function(s,i){return e("div",{key:i,staticClass:"integral-list"},[e("div",{staticClass:"integral-list-left"},[e("p",{staticClass:"integral-list-left-cont"},[t._v(t._s(s.remark))]),e("span",{staticClass:"integral-list-left-time"},[t._v(t._s(s.operateTime))])]),e("div",{class:["integral-list-right","00"===s.useType?"cell-li-plus":"cell-li-subtract"]},[t._v(t._s(s.countChange))])])})),0),t.isPopup?e("div",{staticClass:"popup"},[e("div",{staticClass:"popup-cont"},[e("h2",{staticClass:"popup-cont-title"},[t._v("积分说明")]),e("p",{staticClass:"popup-cont-subTitle"},[t._v("一、积分发放和结算")]),e("p",{staticClass:"popup-cont-text"},[t._v("订单实付金额每满10元发放1积分。发生退款时，根据用户实际最终支付金额，回收多发放积分。")]),e("p",{staticClass:"popup-cont-subTitle"},[t._v("二、积分使用规则")]),e("p",{staticClass:"popup-cont-text"},[t._v(" (1) 订单金额大于20元（包含） (2) 积分数量大于1000个（包含） (3) 积分支付比例不得超过每笔订单应付金额的50% (4) 使用积分数量为1000的整数倍 = 满10元使用 ")]),e("div",{staticClass:"popup-cont-btn",on:{click:function(s){t.isPopup=!1}}},[t._v("关闭")])])]):t._e()],1)},a=[],n=e("2909"),r=(e("d3b7"),e("365c")),o={name:"IntegralDetail",data:function(){return{isRefresh:!1,dataLists:[],integralType:"",memberCardType:"",isPopup:!1}},mounted:function(){document.body.style.backgroundColor="#f9f9f9"},created:function(){this.$utils.isMiniprogram()&&this.$route.query.userToken&&(this.$utils.storage.set("userToken",this.$route.query.userToken),this.$utils.storage.set("sessionToken",this.$route.query.sessionToken),this.$utils.storage.set("GMJUserInfo",this.$route.query.userInfo)),this.integralType=this.$route.query.integralType,this.memberCardType=this.$route.query.memberCardType},methods:{init:function(t){var s=this,e={accountType:"00"===this.integralType?"00":"01",pageNumber:t.page,pageSize:10,userId:this.$utils.getUserId()};return new Promise((function(i,a){1===t.page&&(s.dataLists=[]),r["a"].getIntegralList(e).then((function(t){var e;t.data.records&&(e=s.dataLists).push.apply(e,Object(n["a"])(t.data.records));var a={pageCount:Math.ceil(t.data.total/10)};i(a)})).catch((function(t){a(t)}))}))}}},u=o,c=(e("e845"),e("2877")),l=Object(c["a"])(u,i,a,!1,null,"88f9980c",null);s["default"]=l.exports},dcb3:function(t,s,e){},e845:function(t,s,e){"use strict";e("dcb3")}}]);