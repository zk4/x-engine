(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f14e74e"],{"86f9":function(t,s,e){},"9fdf":function(t,s,e){},b683:function(t,s,e){"use strict";e("86f9")},ceee:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"accurate-address"},[t.isMiniprogram?t._e():e("div",{staticClass:"header"},[e("gm-header",{attrs:{hideItem:["center"],slotsShow:["left"],goNum:t.goNum},on:{"click-left":t.clickLeft},scopedSlots:t._u([{key:"dynamicsLeft",fn:function(){return[e("van-icon",{attrs:{size:"20",name:"arrow-left"}}),e("span",{staticClass:"header-title"},[t._v("选择收货地址")])]},proxy:!0}],null,!1,1936213013)})],1),e("div",{staticClass:"address-list",style:{paddingBottom:t.$tabbarHeight+"px"}},[t.isErrorAlert?e("div",{staticStyle:{"margin-bottom":"12px"}},[e("gmAlert",{attrs:{title:"您当前的定位不在外卖服务范围内请更换收货地址",type:"error"}})],1):t._e(),e("van-radio-group",{model:{value:t.actdive,callback:function(s){t.actdive=s},expression:"actdive"}},t._l(t.addressList,(function(s,i){return e("div",{key:i,staticClass:"list cell flex"},[s.addrId===t.actdive?e("div",{staticClass:"address-item-left"},[e("van-radio",{attrs:{name:s.addrId,"checked-color":"#FF5F3B","icon-size":"20px"}})],1):t._e(),e("div",{staticClass:"address-right",on:{click:function(e){return t.selectadress(s)}}},[e("div",{staticClass:"address-title"},[s.defaultAddr?e("span",{staticClass:"address-default"},[e("span",[t._v("默认")])]):t._e(),t._v(" "+t._s(t.getAddress(s))+" ")]),e("div",{staticClass:"address-phone flex-center"},[e("span",[t._v(t._s(s.userName)+" "+t._s(s.phone))]),e("span",{on:{click:function(e){return e.stopPropagation(),t.addressClick("edit",s)}}},[e("van-image",{attrs:{src:t.iconList.edit}})],1)])])])})),0),t.invalidAddressList.length?e("div",{staticClass:"address-invalid"},[e("div",{staticClass:"title"},[t._v(" 以下地址超出配送范围 ")]),t._l(t.invalidAddressList,(function(s,i){return e("div",{key:i,staticClass:"list cell flex"},[e("div",{staticClass:"address-right"},[e("div",{staticClass:"address-title"},[s.defaultAddr?e("span",{staticClass:"address-default"},[e("span",[t._v("默认")])]):t._e(),t._v(" "+t._s(t.getAddress(s))+" ")]),e("div",{staticClass:"address-phone flex-center"},[e("span",[t._v(t._s(s.userName)+" "+t._s(s.phone))]),e("span",{on:{click:function(e){return e.stopPropagation(),t.addressClick("edit",s)}}},[e("van-image",{attrs:{src:t.iconList.edit}})],1)])])])}))],2):t._e()],1),e("div",{staticClass:"address-bottom",style:{height:t.$tabbarHeight+"px"}},[e("van-button",{attrs:{round:"",type:"info",color:"#FF5F3B"},on:{click:function(s){return t.addressClick("add")}}},[t._v("新建收货地址")])],1)])},a=[],r=(e("4160"),e("159b"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"gm-alert",class:[t.typeClass]},[e("van-icon",{staticClass:"gm-alert__icon gm-icon-error",attrs:{name:"warning",size:"16"}}),e("div",{staticClass:"gm-alert__content"},[e("span",{staticClass:"gm-alert__title"},[t._v(t._s(t.title))]),e("i",{staticClass:"gm-alert__closebtn gm-icon-close"})])],1)}),d=[],n={props:{title:{type:String,default:"提示内容"},type:{type:String,default:"info"}},computed:{typeClass:function(){return"gm-alert--".concat(this.type)}}},o=n,l=(e("fcfb"),e("2877")),c=Object(l["a"])(o,r,d,!1,null,null,null),u=c.exports,f={components:{gmAlert:u},name:"Index",props:{isModel:{type:Boolean,default:!1},isErrorAlert:{type:Boolean,default:!1}},data:function(){return{isMiniprogram:this.$utils.isMiniprogram(),goNum:-1,invalidAddressList:[],actdive:null,iconList:{edit:e("f0d5")},addressList:[]}},created:function(){this.isModel&&(this.goNum=0),this.$utils.isMiniprogram()&&this.$route.query.userToken&&(this.$utils.storage.set("userToken",this.$route.query.userToken),this.$utils.storage.set("sessionToken",this.$route.query.sessionToken),this.$utils.storage.set("GMJUserInfo",this.$route.query.userInfo)),this.init(),this.getAdressList(),this.visibilityEve()},methods:{init:function(){this.$route.query.addrId&&(this.actdive=this.$route.query.addrId)},clickLeft:function(){this.$emit("click-back")},getAddress:function(t){var s=t.provinceName,e=t.cityName,i=t.countyName,a=t.detail,r=t.remark,d=void 0===r?"":r;return s+e+i+a+d},visibilityEve:function(){var t=this;this.$utils.visibilityEve((function(){var s=t.$utils.storage.get("addrerefreshlist");"1"===s&&(t.getAdressList(),t.$utils.storage.set("addrerefreshlist",""))}))},getAdressList:function(){var t=this,s={userId:this.$utils.getUserId(),pageNum:1,pageSize:50,mallCode:this.$mallCode,pattern:"01"};this.$api.shoppingAdress(s).then((function(s){var e=[];0===s.code&&s.data&&(e=s.data.userAddressResultList);var i=[],a=[];e.forEach((function(t){1===t.isUsable?i.push(t):a.push(t)})),t.addressList=i,t.invalidAddressList=a}))},addressClick:function(t,s){var e={type:t};"edit"==t&&(e.addrId=s.addrId),this.$router.push({path:"/addressEdit",query:e})},selectadress:function(t){if(this.$utils.isMiniprogram())this.$utils.storage.set("lastTimeAddrId",t.addrId),this.$router.push({path:"/manyShop",navigateTo:"redirectTo",query:{addrId:t.addrId,type:"EXPRESS",shopCode:this.$route.query.shopCode}});else if(this.isModel)this.$emit("change",t);else if("1"===this.$route.query.type){var s=JSON.stringify(t);this.$utils.storage.set("selectaddress",s),this.$router.go(-1)}}}},p=f,h=(e("b683"),Object(l["a"])(p,i,a,!1,null,"059ec801",null));s["default"]=h.exports},f0d5:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACGElEQVRYR82Wv0scQRTHv2+5A0E8nRnh4Ir8CSlsU1pqIyQkkMKUIRDSJUXSJUVKGxEULNRCyI9C/AMs0gdRUqVJc3Bwt7MEDoW72ycTdmXZ29ns7c6KWy4z8/m892bmDaGez5NS7gFY8H3/OYCRDUM18A18H8BmtPZ33/ef2SRcC6ThcXxWCZcCNniuhCuBKTgzHwH4S0SvEmU2mXgKYBz/cyGQCddamz0QCiG2UxLfoj3xT6KqQC48jtIi8QQAVxEoBDcSSqkPzPzxNu1EZ4PBYNVkqKzALPD3zPwpCW80Guu9Xm9YtgTO4GUEnMJnFXAOn0WgFnhRgdrgRQRqhf9PIAt+qLV+Yc5vsosqpXKPWl7Htd0DdwK3ZkBKaRrGcWzOzLbIp2645CVT5K2RmQGl1GdmfmcWYOYTrfVGRtorw/MycApgzQwIw3AzCIKDVM2dwPME/gB4EAmsBEHwMxbIaiyzpj0ZzFQJhBCLRKSjVj1utVoLw+FwaTKZPGTmdSJ6bWssRWqeHpMl8IiIfkQDx8wcENHy1ESisyqRW19EQoiXRLSTe3YdwTP3gJTyDYCtlMAVM/8ioksA581mczfu52XSnrsH2u32/Gg0emtOIIBLz/Mu+v3+bwCTqrCs+WVfRM5c7o3AXKfT8ZyFVWChbrdrGto1SSm/AHhcYE4dQ74aAbO57jT6RCShEbgCMFdHeAXWvL4BDxOBceWCg0YAAAAASUVORK5CYII="},fcfb:function(t,s,e){"use strict";e("9fdf")}}]);