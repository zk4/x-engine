(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-665d6e1c"],{"0cb2":function(t,e,s){var i=s("7b0b"),a=Math.floor,r="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,n=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,s,c,l,d){var u=s+t.length,p=c.length,v=n;return void 0!==l&&(l=i(l),v=o),r.call(d,v,(function(i,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(u);case"<":o=l[r.slice(1,-1)];break;default:var n=+r;if(0===n)return i;if(n>p){var d=a(n/10);return 0===d?i:d<=p?void 0===c[d-1]?r.charAt(1):c[d-1]+r.charAt(1):i}o=c[n-1]}return void 0===o?"":o}))}},1148:function(t,e,s){"use strict";var i=s("a691"),a=s("1d80");t.exports=function(t){var e=String(a(this)),s="",r=i(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(s+=e);return s}},"13d5":function(t,e,s){"use strict";var i=s("23e7"),a=s("d58f").left,r=s("a640"),o=s("2d00"),n=s("605d"),c=r("reduce"),l=!n&&o>79&&o<83;i({target:"Array",proto:!0,forced:!c||l},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"166f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("GmHeaderBackImg",{staticStyle:{"font-size":"24px"},attrs:{scrollCover:!0,backgroundColor:"#f9f9f9","scroll-gradients":!0,gradientsColor:"#f9f9f9"}},[i("div",{staticClass:"service-header",attrs:{slot:"header"},slot:"header"},[i("GmHeader",{attrs:{slotsShow:["center"],"background-color":"transparent"}},[i("div",{staticClass:"titlefont",attrs:{slot:"dynamicsCenter"},slot:"dynamicsCenter"},[t._v(t._s(t.orederStatusName))])])],1),i("div",{attrs:{slot:"main"},slot:"main"},["NOT_PAYED"===t.nopayed&&"CANCEL"!==t.orederState&&"EXPIRE"!==t.orederState?i("p",{staticClass:"last-time"},[t._v(" 剩 "),i("van-count-down",{attrs:{time:t.expireTime,format:"mm 分 ss 秒"},on:{finish:t.finish}}),t._v(" 自动关闭 ")],1):t._e(),i("div",{staticClass:"wrap"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},["NOT_PAYED"===t.paidState?i("div",{staticClass:"main"},[i("div",{staticClass:"delivery"},[i("div",{staticClass:"delivery-tips",staticStyle:{display:"none"}},[i("span",[t._v("!")]),i("p",[t._v("由于多家商户出餐可能需要等待")])]),"HERE"===t.deliverType?i("div",{staticClass:"here"},[i("span",{staticClass:"title fontcolor01"},[t._v("堂食")]),"NORMAL"===t.bookMode?i("div",{staticClass:"delivery-info-content nobd"},[i("h4",[t._v("就餐时间")]),i("p",{staticClass:"nmb"},[t._v("立即就餐")])]):t._e(),"BOOKING"===t.bookMode?i("div",{staticClass:"delivery-info-content nobd"},[i("h4",[t._v("预约就餐时间")]),i("p",{staticClass:"nmb"},[t._v(t._s(t.productList.selectReceiveTime))])]):t._e()]):t._e(),"SELF"===t.deliverType?i("div",{staticClass:"sele"},[i("span",{staticClass:"title fontcolor02"},[t._v("自提")]),"NORMAL"===t.bookMode?i("div",{staticClass:"delivery-info-content nobd"},[i("h4",[t._v("取餐时间")]),i("p",{staticClass:"nmb"},[t._v("立即取餐")])]):t._e(),"BOOKING"===t.bookMode?i("div",{staticClass:"delivery-info-content nobd"},[i("h4",[t._v("预约取餐时间")]),i("p",{staticClass:"nmb"},[t._v(t._s(t.productList.selectReceiveTime))])]):t._e()]):t._e(),"MALL"===t.deliverType?i("div",{staticClass:"delivery-info"},[i("span",{staticClass:"mode fontcolor03"},[t._v("楼内配送")]),i("p",{staticClass:"info",staticStyle:{display:"none"}},[t._v("由于多家商户出餐可能需要等待")]),i("div",{staticClass:"content"},[i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("配送楼层")]),i("p",[t._v(t._s(t.productList.address))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("预计送达时间")]),i("p",[t._v(t._s(t.productList.selectReceiveTime))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("联系人")]),i("p",[t._v(t._s(t.productList.receiver)+" "+t._s(t.productList.mobile))])]),"NOT_PAYED"!==t.groupState?i("div",{staticClass:"delivery-info-content flex noborder"},[i("div",{staticClass:"left"},[i("h4",[t._v("配送员")]),i("p",[t._v(t._s(t.productList.serviceDeliverName?t.productList.serviceDeliverName:"---")+" "),t.productList.serviceDeliverPhone&&t.isMiniprogram?i("a",{attrs:{href:"tel:"+t.productList.serviceDeliverPhone}}):t._e(),t._v(" "),t.productList.serviceDeliverPhone&&!t.isMiniprogram?i("a",{on:{click:t.call}}):t._e()])]),i("div",{staticClass:"right"},[i("h4",[t._v("配送状态")]),i("p",[t._v(t._s(t.productList.serviceDeliverStateName?t.productList.serviceDeliverStateName:"---"))])])]):t._e()])]):t._e(),"CENTRAL"===t.deliverType?i("div",{staticClass:"delivery-info"},[i("span",{staticClass:"mode fontcolor04"},[t._v("集中配送")]),i("div",{staticClass:"content"},[i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("配送楼层")]),i("p",[t._v(t._s(t.productList.address))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("预计送达时间")]),i("p",[t._v(t._s(t.productList.selectReceiveTime))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("联系人")]),i("p",[t._v(t._s(t.productList.receiver)+" "+t._s(t.productList.mobile))])]),"NOT_PAYED"!==t.groupState?i("div",{staticClass:"delivery-info-content flex noborder"},[i("div",{staticClass:"left"},[i("h4",[t._v("配送员")]),i("p",[t._v(t._s(t.productList.serviceDeliverName?t.productList.serviceDeliverName:"---")+" "),t.productList.serviceDeliverPhone&&t.isMiniprogram?i("a",{attrs:{href:"tel:"+t.productList.serviceDeliverPhone}}):t._e(),t._v(" "),t.productList.serviceDeliverPhone&&!t.isMiniprogram?i("a",{on:{click:t.call}}):t._e()])]),i("div",{staticClass:"right"},[i("h4",[t._v("配送状态")]),i("p",[t._v(t._s(t.productList.serviceDeliverStateName?t.productList.serviceDeliverStateName:"---"))])])]):t._e()])]):t._e(),"EXPRESS"===t.deliverType?i("div",{staticClass:"take-out"},[i("span",{staticClass:"title fontcolor05"},[t._v("外卖")]),i("div",{staticClass:"content"},[i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("配送地址")]),i("p",[t._v(t._s(t.productList.address))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("预计送达时间")]),i("p",[t._v(t._s(t.productList.selectReceiveTime))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("联系人")]),i("p",[t._v(t._s(t.productList.receiver)+" "+t._s(t.productList.mobile))])]),"NOT_PAYED"!==t.groupState?i("div",{staticClass:"delivery-info-content flex noborder"},[i("div",{staticClass:"left"},[i("h4",[t._v("配送员")]),i("p",[t._v(t._s(t.productList.serviceDeliverName?t.productList.serviceDeliverName:"---")+" "),t.productList.serviceDeliverPhone&&t.isMiniprogram?i("a",{attrs:{href:"tel:"+t.productList.serviceDeliverPhone}}):t._e(),t._v(" "),t.productList.serviceDeliverPhone&&!t.isMiniprogram?i("a",{on:{click:t.call}}):t._e()])]),i("div",{staticClass:"right"},[i("h4",[t._v("配送状态")]),i("p",[t._v(t._s(t.productList.serviceDeliverStateName?t.productList.serviceDeliverStateName:"---"))])])]):t._e()])]):t._e()]),i("div",{staticClass:"header"},[i("img",{staticClass:"shop-icon",attrs:{src:s("4da7")}}),i("p",[t._v(t._s(t.mallName))])]),t._l(t.shopList,(function(e,a){return i("div",{key:a,staticClass:"order"},[i("div",{staticClass:"order-header"},[i("img",{staticClass:"header-icon",attrs:{src:e.orderItemList[0].shopLogoUrl}}),i("p",[t._v(t._s(t._f("shopAliasName")(e)))]),"STOCKUP_PENDING"===e.state?i("span",{staticClass:"fontcolor06"},[t._v("待接单")]):t._e(),"NOT_PAYED"===e.state?i("span",{staticClass:"fontcolor06"},[t._v("待支付")]):t._e(),"DELIVERY_PENDING"===e.state?i("span",{staticClass:"fontcolor06"},[t._v("已接单")]):t._e(),"DELIVERING"===e.state?i("span",{staticClass:"fontcolor06"},[t._v("备餐中")]):t._e(),"RECEIVING"===e.state&&"NONE"===e.deliverState?i("span",{staticClass:"fontcolor06"},[t._v("待取餐")]):t._e(),"RECEIVING"!==e.state||"BUILDING_DELIVERING"!==e.deliverState&&"THIRD_DELIVERING"!==e.deliverState?t._e():i("span",{staticClass:"fontcolor06"},[t._v("配送中")]),"RECEIVING"===e.state&&"PICKING"===e.deliverState?i("span",{staticClass:"fontcolor06"},[t._v("配送中")]):t._e(),"RECEIVING"===e.state&&"PICKED"===e.deliverState?i("span",{staticClass:"fontcolor06"},[t._v("配送中")]):t._e(),"RECEIVING"===e.state&&"PICK_PENDING"===e.deliverState?i("span",{staticClass:"fontcolor06"},[t._v("备餐中")]):t._e(),"COMPLETE"===e.state&&"ALL"===e.refundType?i("span",[t._v("已取消")]):t._e(),"COMPLETE"===e.state&&"ALL"!==e.refundType?i("span",[t._v("已完成")]):t._e(),"PAID_CANCEL"===e.state&&"PASS"===e.userCancelState?i("span",[t._v("已取消")]):t._e(),"PAID_CANCEL"!==e.state||"NONE"!==e.userCancelState&&"REJECT"!==e.userCancelState?t._e():i("span",[t._v("已拒单")]),"EXPIRE"===e.state||"CANCEL"===e.state||"STOCKUP_CANCEL"===e.state?i("span",[t._v("已取消")]):t._e(),"PAID_CANCEL"!==e.state&&"STOCKUP_CANCEL"!==e.state||"NONE"!==e.userCancelState&&"REJECT"!==e.userCancelState?t._e():i("span",[t._v("已拒单")]),t.isMiniprogram?t._e():i("img",{staticClass:"servie-icon",attrs:{src:s("80fd")},on:{click:function(s){return t.shopconnect(e)}}})]),"HERE"!==t.deliverType&&"SELF"!==t.deliverType||"NOT_PAYED"===t.paidState?t._e():i("div",{staticClass:"meal-code-new"},[i("span",{staticClass:"title"},[t._v("取餐号")]),i("span",{staticClass:"number"},[t._v(t._s(e.deliverCheckCode?e.deliverCheckCode:"无数据"))]),i("div",{staticClass:"QRcode"},[i("img",{attrs:{src:s("a125")}})])]),i("ul",{staticClass:"order-list"},t._l(e.orderItemList,(function(e,s){return i("li",{key:s,ref:"orderli",refInFor:!0,attrs:{name:"order-list-li",id:"orderLest"}},[i("div",{staticClass:"top"},[i("div",{staticClass:"product-pic"},[i("img",{attrs:{src:e.mainPicUrl}})]),i("div",{staticClass:"product-demand"},[i("h4",[t._v(t._s(e.skuName))]),i("p",{staticClass:"info"},[i("span",[t._v(t._s(e.skuSpecValues?e.skuSpecValues+" "+e.specDyncJsonValue:e.specDyncJsonValue))])]),i("p",{ref:"price",refInFor:!0,staticClass:"price"},[t._v("￥"+t._s(e.realPrice))])]),i("div",{staticClass:"product-num"},[i("span",{staticClass:"product-num-span"},[t._v("x"+t._s(e.number))])])]),"EXPRESS"===t.deliverType&&"COMPLETE"===t.orederState&&0==e.finishAfterNumber&&null==e.repairOrderNo&&0!=e.returnDays?i("div",{staticClass:"product-refund",on:{click:function(s){return s.stopPropagation(),t.applyAfterSales(e)}}},[i("span",[t._v("申请售后")])]):t._e(),e.finishAfterNumber>0?i("div",{staticClass:"product-refund",on:{click:function(s){return s.stopPropagation(),t.serviceDetails(e)}}},[i("span",[t._v("售后详情")])]):t._e()])})),0),i("div",{staticClass:"line"},[i("span"),i("span"),i("span")]),i("ul",{staticClass:"order-pay"},[i("li",[i("span",{staticClass:"grey-font"},[t._v("店铺优惠")]),i("span",[t._v("-¥"+t._s(e.couponAmount2?e.couponAmount2:"0.00"))])]),e.remark&&t.setShowRemark(e.remark)?i("li",[i("span",{staticClass:"grey-font"},[t._v("订单备注")]),i("span",{staticClass:"default"},[t._v(t._s(t.setRemark(e.remark)))])]):t._e()]),i("div",{staticClass:"order-sum"},[i("p",[i("span",[t._v("共"+t._s(e.numberes)+"件")]),i("span",[t._v("合计："),i("em",[t._v("￥"+t._s(e.payAmountes.toFixed(2)))])])])])])})),"MALL"===t.deliverType||"EXPRESS"===t.deliverType||"CENTRAL"===t.deliverType?i("div",[i("div",{staticClass:"order-info newwidth"},[i("div",[i("ul",{attrs:{id:"content"}},[i("li",[i("span",[t._v("配送费：")]),i("span",{staticClass:"bold-font"},[t._v("￥"+t._s(t.productList.freightAmount.toFixed(2)))])])])])])]):t._e(),i("div",[i("div",{staticClass:"refund-info2"},[i("ul",[i("li",[i("span",[t._v("平台优惠：")]),i("span",{staticClass:"bold-font"},[t._v("-¥"+t._s(t.productList.couponAmount1.toFixed(2)?t.productList.couponAmount1.toFixed(2):"0.00"))])]),i("li",[i("span",[t._v("积分：")]),i("span",{staticClass:"bold-font"},[t._v("-¥"+t._s(t.productList.pointsAmount.toFixed(2)?t.productList.pointsAmount.toFixed(2):"0.00"))])])])])]),i("div",[i("div",{staticClass:"order-info newwidth"},[i("h4",[t._v("订单信息")]),i("div",[i("ul",{attrs:{id:"content"}},[i("li",[i("span",[t._v("订单编号：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.orderNo))])]),i("li",[i("span",[t._v("下单时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.submitTime))])]),t.productList.paidTime?i("li",[i("span",[t._v("支付时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.paidTime))])]):t._e(),"PAID_CANCEL"===t.productList.state||"STOCKUP_CANCEL"===t.productList.state?i("li",[i("span",[t._v("取消时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.cancelTime))])]):t._e()]),i("button",{staticClass:"copy",attrs:{"data-clipboard-text":t.productList.orderNo},on:{click:t.copyCode}},[t._v("复制")])])])]),"PAID_CANCEL"===t.productList.state&&"PASS"===t.productList.userCancelState||"CANCEL"===t.productList.state?i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info  newwidth"},[i("h4",[t._v("用户已取消订单")]),i("ul",[i("li",[i("span",[t._v("提出时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.cancelTime))])]),t.productList.userCancelReasonStr?i("li",[i("span",[t._v("取消原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.userCancelReasonStr))])]):t._e()])])]):t._e(),"DELIVERY_PENDING"===t.productList.state&&"ON"===t.productList.userCancelState?i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info newwidth"},[i("h4",[t._v("用户提出取消订单")]),i("ul",[i("li",[i("span",[t._v("提出时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.userCancelApplyTime))])]),i("li",[i("span",[t._v("取消原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.userCancelReasonStr))])])])])]):t._e(),"STOCKUP_CANCEL"===t.productList.state&&"PASS"===t.productList.userCancelState?i("div",[i("div",{staticClass:"refund-info newwidth"},[i("h4",[t._v("用户提出取消订单")]),i("ul",[i("li",[i("span",[t._v("提出时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.userCancelApplyTime))])]),i("li",[i("span",[t._v("取消原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.userCancelReasonStr))])])])]),i("div",{staticClass:"fine-line newwidth"}),i("div",{staticClass:"refund-info"},[i("h4",[t._v("商家同意取消订单")]),i("ul",[i("li",[i("span",[t._v("同意时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.cancelTime))])])])]),"REJECT"===t.userCancelState?i("div",[i("div",{staticClass:"refund-info newwidth"},[i("h4",[t._v("用户提出取消订单")]),i("ul",[i("li",[i("span",[t._v("提出时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.userCancelApplyTime))])]),i("li",[i("span",[t._v("取消原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.userCancelReasonStr))])])])]),i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info newwidth"},[i("h4",[t._v("商家拒绝了您的取消订单申请")]),i("ul",[i("li",[i("span",[t._v("拒绝时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.cancelTime))])]),i("li",[i("span",[t._v("拒绝理由：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.merRejectReasonStr))])])])])]):t._e(),"STOCKUP_CANCEL"===t.productList.state&&"NONE"===t.productList.userCancelState?i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info  newwidth"},[i("h4",[t._v("商家已取消订单")]),i("ul",[i("li",[i("span",[t._v("提出订单取消：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.cancelTime))])]),i("li",[i("span",[t._v("订单取消理由：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.merCancelReasonStr))])])])])]):t._e(),"PAID_CANCEL"===t.productList.state&&"NONE"===t.productList.userCancelState?i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"rejection-info  newwidth"},[i("h4",[t._v("拒单信息")]),i("ul",[i("li",[i("span",[t._v("拒单时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.cancelTime))])]),i("li",[i("span",[t._v("拒单原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(t.productList.merCancelReasonStr))])])])])]):t._e()]):t._e(),"NOT_PAYED"===t.cateingState?i("div",{staticClass:"pay-info"},[i("div",{staticClass:"price"},[i("p",[t._v("¥"+t._s(t.totalPrice)+"元")]),i("p",{staticClass:"total-price"},[t._v("共"+t._s(t.totalNumber)+"件；共优惠"+t._s((t.realAmount-t.totalPrice).toFixed(2))+"元")])]),i("button",{staticClass:"cancel-order",on:{click:function(e){return t.cancleorder(t.shopList.orderType,t.shopList.orderNo)}}},[t._v("取消订单")]),i("button",{staticClass:"to-pay",on:{click:function(e){return t.orderPay(t.productList)}}},[t._v("去支付")])]):t._e(),"EXPRESS"!==t.deliverType||"STOCKUP_PENDING"!==t.cateingState&&"DELIVERY_PENDING"!==t.cateingState?t._e():i("div",{staticClass:"pay-info"},[i("button",{staticClass:"cancel-order right2",on:{click:function(e){return t.cancleorder(t.shopList.orderType,t.shopList.orderNo)}}},[t._v("取消订单")])]),"COMPLETE"===t.cateingState&&0===t.isEvaluate?i("div",{staticClass:"pay-info"},[i("button",{staticClass:"to-pay left1",on:{click:function(e){return e.stopPropagation(),t.complete(t.productList)}}},[t._v("去评价")])]):t._e()],2):i("div",{staticClass:"main"},[i("div",{staticClass:"delivery"},[i("div",{staticClass:"delivery-tips",staticStyle:{display:"none"}},[i("span",[t._v("!")]),i("p",[t._v("由于多家商户出餐可能需要等待")])]),"HERE"===t.deliverType?i("div",{staticClass:"here"},[i("span",{staticClass:"title fontcolor01"},[t._v("堂食")]),"NORMAL"===t.bookMode?i("div",{staticClass:"delivery-info-content nobd"},[i("h4",[t._v("就餐时间")]),i("p",{staticClass:"nmb"},[t._v("立即就餐")])]):t._e(),"BOOKING"===t.bookMode?i("div",{staticClass:"delivery-info-content nobd"},[i("h4",[t._v("预约就餐时间")]),i("p",{staticClass:"nmb"},[t._v(t._s(t.productList.selectReceiveTime))])]):t._e()]):t._e(),"SELF"===t.deliverType?i("div",{staticClass:"sele"},[i("span",{staticClass:"title fontcolor02"},[t._v("自提")]),"NORMAL"===t.bookMode?i("div",{staticClass:"delivery-info-content nobd"},[i("h4",[t._v("取餐时间")]),i("p",{staticClass:"nmb"},[t._v("立即取餐")])]):t._e(),"BOOKING"===t.bookMode?i("div",{staticClass:"delivery-info-content nobd"},[i("h4",[t._v("预约取餐时间")]),i("p",{staticClass:"nmb"},[t._v(t._s(t.productList.selectReceiveTime))])]):t._e()]):t._e(),"MALL"===t.deliverType?i("div",{staticClass:"delivery-info"},[i("span",{staticClass:"mode fontcolor03"},[t._v("楼内配送")]),i("p",{staticClass:"info",staticStyle:{display:"none"}},[t._v("由于多家商户出餐可能需要等待")]),i("div",{staticClass:"content"},[i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("配送楼层")]),i("p",[t._v(t._s(t.productList.address))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("预计送达时间")]),i("p",[t._v(t._s(t.productList.selectReceiveTime))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("联系人")]),i("p",[t._v(t._s(t.productList.receiver)+" "+t._s(t.productList.mobile))])]),"NOT_PAYED"!==t.groupState?i("div",{staticClass:"delivery-info-content flex noborder"},[i("div",{staticClass:"left"},[i("h4",[t._v("配送员")]),i("p",[t._v(t._s(t.productList.serviceDeliverName?t.productList.serviceDeliverName:"---")+" "),t.productList.serviceDeliverPhone&&t.isMiniprogram?i("a",{attrs:{href:"tel:"+t.productList.serviceDeliverPhone}}):t._e(),t._v(" "),t.productList.serviceDeliverPhone&&!t.isMiniprogram?i("a",{on:{click:t.call}}):t._e()])]),i("div",{staticClass:"right"},[i("h4",[t._v("配送状态")]),i("p",[t._v(t._s(t.productList.serviceDeliverStateName?t.productList.serviceDeliverStateName:"---"))])])]):t._e()])]):t._e(),"CENTRAL"===t.deliverType?i("div",{staticClass:"delivery-info"},[i("span",{staticClass:"mode fontcolor04"},[t._v("集中配送")]),i("div",{staticClass:"content"},[i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("配送楼层")]),i("p",[t._v(t._s(t.productList.address))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("预计送达时间")]),i("p",[t._v(t._s(t.productList.selectReceiveTime))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("联系人")]),i("p",[t._v(t._s(t.productList.receiver)+" "+t._s(t.productList.mobile))])]),"NOT_PAYED"!==t.groupState?i("div",{staticClass:"delivery-info-content flex noborder"},[i("div",{staticClass:"left"},[i("h4",[t._v("配送员")]),i("p",[t._v(t._s(t.productList.serviceDeliverName?t.productList.serviceDeliverName:"---")+" "),t.productList.serviceDeliverPhone&&t.isMiniprogram?i("a",{attrs:{href:"tel:"+t.productList.serviceDeliverPhone}}):t._e(),t._v(" "),t.productList.serviceDeliverPhone&&!t.isMiniprogram?i("a",{on:{click:t.call}}):t._e()])]),i("div",{staticClass:"right"},[i("h4",[t._v("配送状态")]),i("p",[t._v(t._s(t.productList.serviceDeliverStateName?t.productList.serviceDeliverStateName:"---"))])])]):t._e()])]):t._e(),"EXPRESS"===t.deliverType?i("div",{staticClass:"take-out"},[i("span",{staticClass:"title fontcolor05"},[t._v("外卖")]),i("div",{staticClass:"content"},[i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("配送地址")]),i("p",[t._v(t._s(t.productList.address))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("预计送达时间")]),i("p",[t._v(t._s(t.productList.selectReceiveTime))])]),i("div",{staticClass:"delivery-info-content"},[i("h4",[t._v("联系人")]),i("p",[t._v(t._s(t.productList.receiver)+" "+t._s(t.productList.mobile))])]),"NOT_PAYED"!==t.groupState?i("div",{staticClass:"delivery-info-content flex noborder"},[i("div",{staticClass:"left"},[i("h4",[t._v("配送员")]),i("p",[t._v(t._s(t.productList.serviceDeliverName?t.productList.serviceDeliverName:"---")+" "),t.productList.serviceDeliverPhone&&t.isMiniprogram?i("a",{attrs:{href:"tel:"+t.productList.serviceDeliverPhone}}):t._e(),t._v(" "),t.productList.serviceDeliverPhone&&!t.isMiniprogram?i("a",{on:{click:t.call}}):t._e()])]),i("div",{staticClass:"right"},[i("h4",[t._v("配送状态")]),i("p",[t._v(t._s(t.productList.serviceDeliverStateName?t.productList.serviceDeliverStateName:"---"))])])]):t._e()])]):t._e()]),i("div",{staticClass:"header"},[i("img",{staticClass:"shop-icon",attrs:{src:s("4da7")}}),i("p",[t._v(t._s(t.mallName))])]),t._l(t.shopList,(function(e,a){return i("div",{key:a,staticClass:"order"},[i("div",{staticClass:"order-header"},[i("img",{staticClass:"header-icon",attrs:{src:e.orderItemList[0].shopLogoUrl}}),i("p",[t._v(t._s(t._f("shopAliasName")(e)))]),"STOCKUP_PENDING"===e.state?i("span",{staticClass:"fontcolor06"},[t._v("待接单")]):t._e(),"NOT_PAYED"===e.state?i("span",{staticClass:"fontcolor06"},[t._v("待支付")]):t._e(),"DELIVERY_PENDING"===e.state?i("span",{staticClass:"fontcolor06"},[t._v("已接单")]):t._e(),"DELIVERING"===e.state?i("span",{staticClass:"fontcolor06"},[t._v("备餐中")]):t._e(),"RECEIVING"===e.state&&"NONE"===e.deliverState?i("span",{staticClass:"fontcolor06"},[t._v("待取餐")]):t._e(),"RECEIVING"!==e.state||"BUILDING_DELIVERING"!==e.deliverState&&"THIRD_DELIVERING"!==e.deliverState?t._e():i("span",{staticClass:"fontcolor06"},[t._v("配送中")]),"RECEIVING"===e.state&&"PICKING"===e.deliverState?i("span",{staticClass:"fontcolor06"},[t._v("配送中")]):t._e(),"RECEIVING"===e.state&&"PICKED"===e.deliverState?i("span",{staticClass:"fontcolor06"},[t._v("配送中")]):t._e(),"RECEIVING"===e.state&&"PICK_PENDING"===e.deliverState?i("span",{staticClass:"fontcolor06"},[t._v("备餐中")]):t._e(),"COMPLETE"===e.state&&"ALL"===e.refundType?i("span",[t._v("已取消")]):t._e(),"COMPLETE"===e.state&&"ALL"!==e.refundType?i("span",[t._v("已完成")]):t._e(),"PAID_CANCEL"===e.state&&"PASS"===e.userCancelState?i("span",[t._v("已取消")]):t._e(),"PAID_CANCEL"!==e.state||"NONE"!==e.userCancelState&&"REJECT"!==e.userCancelState?t._e():i("span",[t._v("已拒单")]),"EXPIRE"===e.state||"CANCEL"===e.state||"STOCKUP_CANCEL"===e.state?i("span",[t._v("已取消")]):t._e(),t.isMiniprogram?t._e():i("img",{staticClass:"servie-icon",attrs:{src:s("80fd")},on:{click:function(s){return t.shopconnect(e)}}})]),"HERE"!==t.deliverType&&"SELF"!==t.deliverType||"NOT_PAYED"===t.paidState?t._e():i("div",{staticClass:"meal-code-new"},[i("span",{staticClass:"title"},[t._v("取餐号")]),i("span",{staticClass:"number"},[t._v(t._s(e.deliverCheckCode))]),i("div",{staticClass:"QRcode"},[i("img",{attrs:{src:s("a125")}})])]),i("ul",{staticClass:"order-list"},t._l(e.orderItemList,(function(e,s){return i("li",{key:s,ref:"orderli",refInFor:!0,attrs:{name:"order-list-li",id:"orderLest"}},[i("div",{staticClass:"top"},[i("div",{staticClass:"product-pic"},[i("img",{attrs:{src:e.mainPicUrl}})]),i("div",{staticClass:"product-demand"},[i("h4",[t._v(t._s(e.skuName))]),i("p",{staticClass:"info"},[i("span",[t._v(t._s(e.skuSpecValues?e.skuSpecValues+" "+e.specDyncJsonValue:e.specDyncJsonValue))])]),i("p",{ref:"price",refInFor:!0,staticClass:"price"},[t._v("￥"+t._s(e.realPrice.toFixed(2)))])]),i("div",{staticClass:"product-num"},[i("span",{staticClass:"product-num-span"},[t._v("x"+t._s(e.number))])])]),"EXPRESS"===t.deliverType&&"COMPLETE"===t.orederState&&0==e.finishAfterNumber&&null==e.repairOrderNo&&0!=e.returnDays||"EXPRESS"===t.deliverType&&"COMPLETE"===t.orederState&&0==e.finishAfterNumber&&""==e.repairOrderNo&&0!=e.returnDays?i("div",{staticClass:"product-refund",on:{click:function(s){return s.stopPropagation(),t.applyAfterSales(e)}}},[i("span",[t._v("申请售后")])]):t._e(),e.finishAfterNumber>0?i("div",{staticClass:"product-refund",on:{click:function(s){return s.stopPropagation(),t.serviceDetails(e)}}},[i("span",[t._v("售后详情")])]):t._e()])})),0),i("div",{staticClass:"line"},[i("span"),i("span"),i("span")]),i("ul",{staticClass:"order-pay"},["MALL"===t.deliverType||"EXPRESS"===t.deliverType||"CENTRAL"===t.deliverType?i("li",[i("span",{staticClass:"grey-font"},[t._v("配送费")]),i("span",[t._v("￥"+t._s(e.freightAmount.toFixed(2)))])]):t._e(),i("li",[i("span",{staticClass:"grey-font"},[t._v("店铺优惠")]),i("span",[t._v("-¥"+t._s(e.couponAmount2.toFixed(2)?e.couponAmount2.toFixed(2):"0.00"))])]),i("li",[i("span",{staticClass:"grey-font"},[t._v("平台优惠")]),i("span",[t._v("-¥"+t._s(e.couponAmount1.toFixed(2)?e.couponAmount1.toFixed(2):"0.00"))])]),i("li",[i("span",{staticClass:"grey-font"},[t._v("积分")]),i("span",[t._v("-¥"+t._s(e.pointsAmount.toFixed(2)?e.pointsAmount.toFixed(2):"0.00"))])]),e.remark&&t.setShowRemark(e.remark)?i("li",[i("span",{staticClass:"grey-font"},[t._v("订单备注")]),i("span",{staticClass:"default"},[t._v(t._s(t.setRemark(e.remark)))])]):t._e()]),i("div",{staticClass:"order-sum"},["NOT_PAYED"===e.state?i("p",[i("span",[t._v("共"+t._s(e.numberes)+"件")]),i("span",[t._v("合计："),i("em",[t._v("￥"+t._s(e.payAmountes.toFixed(2)))])])]):i("p",[i("span",[t._v("共"+t._s(e.number)+"件")]),i("span",[t._v("合计："),i("em",[t._v("￥"+t._s(e.payAmount.toFixed(2)))])])])]),i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"order-info"},[i("h4",[t._v("订单信息")]),i("div",[i("ul",{attrs:{id:"content"}},[i("li",[i("span",[t._v("订单编号：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.orderNo))])]),i("li",[i("span",[t._v("下单时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.submitTime))])]),e.paidTime?i("li",[i("span",[t._v("支付时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.paidTime))])]):t._e(),"PAID_CANCEL"===e.state||"STOCKUP_CANCEL"===e.state?i("li",[i("span",[t._v("取消时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.cancelTime))])]):t._e()]),i("button",{staticClass:"copy",attrs:{"data-clipboard-text":e.orderNo},on:{click:t.copyCode}},[t._v("复制")])])])]),"PAID_CANCEL"===e.state&&"PASS"===e.userCancelState||"CANCEL"===e.state?i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info"},[i("h4",[t._v("用户已取消订单")]),i("ul",[i("li",[i("span",[t._v("提出时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.cancelTime))])]),e.userCancelReasonStr?i("li",[i("span",[t._v("取消原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.userCancelReasonStr))])]):t._e()])])]):t._e(),"DELIVERY_PENDING"===e.state&&"ON"===e.userCancelState?i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info"},[i("h4",[t._v("用户提出取消订单")]),i("ul",[i("li",[i("span",[t._v("提出时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.userCancelApplyTime))])]),i("li",[i("span",[t._v("取消原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.userCancelReasonStr))])])])])]):t._e(),"STOCKUP_CANCEL"===e.state&&"PASS"===e.userCancelState?i("div",[i("div",{staticClass:"refund-info"},[i("h4",[t._v("用户提出取消订单")]),i("ul",[i("li",[i("span",[t._v("提出时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.userCancelApplyTime))])]),i("li",[i("span",[t._v("取消原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.userCancelReasonStr))])])])]),i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info"},[i("h4",[t._v("商家同意取消订单")]),i("ul",[i("li",[i("span",[t._v("同意时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.cancelTime))])])])])]):t._e(),"REJECT"===e.userCancelState?i("div",[i("div",{staticClass:"refund-info"},[i("h4",[t._v("用户提出取消订单")]),i("ul",[i("li",[i("span",[t._v("提出时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.userCancelApplyTime))])]),i("li",[i("span",[t._v("取消原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.userCancelReasonStr))])])])]),i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info"},[i("h4",[t._v("商家拒绝了您的取消订单申请")]),i("ul",[i("li",[i("span",[t._v("拒绝时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.cancelTime))])]),i("li",[i("span",[t._v("拒绝理由：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.merRejectReasonStr))])])])])]):t._e(),"STOCKUP_CANCEL"===e.state&&"NONE"===e.userCancelState?i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"refund-info"},[i("h4",[t._v("商家已取消订单")]),i("ul",[i("li",[i("span",[t._v("提出订单取消：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.cancelTime))])]),i("li",[i("span",[t._v("订单取消理由：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.merCancelReasonStr))])])])])]):t._e(),"PAID_CANCEL"===e.state&&"NONE"===e.userCancelState?i("div",[i("div",{staticClass:"fine-line"}),i("div",{staticClass:"rejection-info"},[i("h4",[t._v("拒单信息")]),i("ul",[i("li",[i("span",[t._v("拒单时间：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.cancelTime))])]),i("li",[i("span",[t._v("拒单原因：")]),i("span",{staticClass:"bold-font"},[t._v(t._s(e.merCancelReasonStr))])])])])]):t._e()])})),"NOT_PAYED"===t.cateingState&&"CANCEL"!==t.cateingState?i("div",{staticClass:"pay-info"},[i("div",{staticClass:"price"},[i("p",[t._v("¥"+t._s(t.totalPrice)+"元")]),i("p",{staticClass:"total-price"},[t._v("共"+t._s(t.totalNumber)+"件；共优惠"+t._s((t.realAmount-t.totalPrice).toFixed(2))+"元")])]),i("button",{staticClass:"cancel-order",on:{click:function(e){return t.cancleorder(t.shopList.orderType,t.shopList.orderNo)}}},[t._v("取消订单")]),i("button",{staticClass:"to-pay",on:{click:function(e){return t.orderPay(t.productList)}}},[t._v("去支付")])]):t._e(),"EXPRESS"!==t.deliverType||"STOCKUP_PENDING"!==t.cateingState&&"DELIVERY_PENDING"!==t.cateingState||!0!==t.canCancel?t._e():i("div",{staticClass:"pay-info"},[i("button",{staticClass:"cancel-order right2",on:{click:function(e){return t.cancleorder(t.shopList.orderType,t.shopList.orderNo)}}},[t._v("取消订单")])]),"COMPLETE"===t.cateingState&&0===t.isEvaluate?i("div",{staticClass:"pay-info"},[i("button",{staticClass:"to-pay left1",on:{click:function(e){return e.stopPropagation(),t.complete(t.productList)}}},[t._v("去评价")])]):t._e()],2),i("ShowDialog",{ref:"showDialog",attrs:{showDialog:t.showCancelOrderDialog,dataArr:t.userCancelOrderReasonList,dialogTitle:"请选择取消原因"},on:{cancelConfim:t.cancelConfim,setshowDialog:t.setshowDialog,confirmBtn:t.confirmBtn1}}),i("ConfirmDialog",{ref:"showConfirmDialog",attrs:{showConfirmDialog:t.showConfirmDialog1,hasCancel:t.hasCancel,hasField:t.hasField,confirmTitle:t.confirmTitle,confirmValue:t.confirmValue,confirmBtnText:t.confirmBtnText}})],1)],1)])])},a=[],r=s("5530"),o=(s("c975"),s("4160"),s("159b"),s("a15b"),s("ac1f"),s("5319"),s("13d5"),s("b680"),s("d81d"),s("1276"),s("2b0e")),n=s("bc3a"),c=s.n(n),l=s("365c"),d=s("9a22"),u=s("e381"),p=s("b311"),v=s.n(p),f=s("58e6"),h=s("d399"),m=s("2ef0"),_=s.n(m),C=s("4ca2");o["a"].prototype.axios=c.a,o["a"].use(f["a"]);var y={name:"Index",components:{ConfirmDialog:d["a"],ShowDialog:u["a"]},data:function(){return{isMiniprogram:this.$utils.isMiniprogram(),groupState:this.$route.query.groupState,showCancelOrderDialog:!1,showConfirmDialog1:!1,hasCancel:!0,confirmTitle:"确认延长收货吗?",confirmValue:"*仅可延长收货一次",userCancelOrderReasonList:[],confirmBtnText:"确定",hasField:!1,shopList:[],productList:[],orderNo:"",orderType:"",tradeNo:"",deliverType:"",bookMode:"",state:"",paidState:"",orederState:"",totalNumber:"",totalPrice:"",discountPrice:"",realAmount:"",paramsRepairOrderNo:"",dataList:[],selectReceiveTime:"",isEvaluate:"",userCancelState:"",refresh:!1,mallName:"",notpayedData:"",deliverState:"",cateingState:"",address:"",aTotalNumber:[],aTotalPrice:[],aDiscountPrice:[],canCancel:!1,expireTime:"",nopayed:this.$route.query.groupState,expire:this.$route.query.groupState,isWeixinValue:!0,isLoading:!1}},created:function(){var t=this;this.$utils.isMiniprogram()&&this.$route.query.userToken&&(this.$utils.storage.set("userToken",this.$route.query.userToken),this.$utils.storage.set("sessionToken",this.$route.query.sessionToken),this.$utils.storage.set("GMJUserInfo",this.$route.query.userInfo)),this.$utils.isMiniprogram()&&this.$route.query.mallCode&&(this.$utils.storage.set("mallCode",this.$route.query.mallCode),this.$utils.storage.set("homecityCode",this.$route.query.cityCode)),window._od=this,void 0!==this.$route.query&&(void 0!==this.$route.query.orderNo&&(this.paramsOrderNo=this.$route.query.orderNo),void 0!==this.$route.query.orderType&&("NOT_PAYED"===this.$route.query.paidState?this.paramsOrderType="CATERING_MAIN":this.paramsOrderType="CATERING_DELIVERY"),void 0!==this.$route.query.tradeNo&&(this.paramsTradeNo=this.$route.query.tradeNo),void 0!==this.$route.query.groupState&&(this.paramsGroupState=this.$route.query.groupState)),this.$nextTick((function(){var e={orderNo:t.paramsOrderNo,orderType:t.paramsOrderType,userId:t.$utils.getUserId()};t.initParams=e})),"NOT_PAYED"===this.$route.query.paidState?(this.toast(),this.getUserDetails()):(this.toast(),this.getOrderDetails()),this.visibilityEve()},methods:{call:function(){this.$engine.api("com.zkty.jsi.device","callPhone",{phoneNum:this.productList.serviceDeliverPhone,phoneMsg:""})},onRefresh:function(){var t=this;"NOT_PAYED"===this.$route.query.paidState?(this.toast(),this.getUserDetails()):(this.toast(),this.getOrderDetails()),setTimeout((function(){t.isLoading=!1,t.$toast.clear()}),1e3)},toast:function(){this.$toast.loading({duration:0,type:"loading",message:"加载中...",forbidClick:!0})},finish:function(){this.refresh||("NOT_PAYED"===this.$route.query.groupState||"EXPIRE"===this.$route.query.groupState||"CANCEL"===this.$route.query.groupState?this.getUserDetails():this.getOrderDetails()),this.refresh=!0},setShowRemark:function(t){if(t){if(!(t.indexOf("{")>=0))return!0;if(JSON.parse(t)&&JSON.parse(t).remark)return!0}},setRemark:function(t){if(t){if(!(t.indexOf("{")>=0))return t;if(JSON.parse(t)&&JSON.parse(t).remark)return JSON.parse(t).remark}},descFormat:function(t){var e=t.skuSpecValues;if(t.skuSpecJson)try{var s=JSON.parse(t.skuSpecJson),i=[];s.forEach((function(t){i.push(t.featureName+": "+t.featureValue)})),e=i.join("  ")}catch(a){console.error(a)}return e},visibilityEve:function(){var t=this;t.$utils.visibilityEve((function(){"/orderdetail"===t.$route.path&&("NOT_PAYED"===t.$route.query.groupState||"EXPIRE"===t.$route.query.groupState||"CANCEL"===t.$route.query.groupState?t.getUserDetails():t.getOrderDetails())}))},getOrderDetails:function(){var t=this,e={orderType:this.paramsOrderType,tradeNo:this.paramsTradeNo,pageNumber:"1",pageSize:"10"};this.$api.getUserQueryOrder(e).then((function(e){if(0===e.data.records.length||""===e.data.records)Object(h["a"])({duration:3e3,message:"该订单不是您名下的订单！"}),setTimeout((function(){t.$router.go(0)}),3e3);else{t.expireTime=new Date(e.data.records[0].expireTime.replace(/-/g,"/")).getTime()-e.timestamp,t.$toast.clear(),t.shopList=e.data.records,t.productList=e.data.records[0],t.deliverState=e.data.records[0].deliverState,t.deliverType=e.data.records[0].deliverType,t.orederState=e.data.records[0].state,t.paidState=e.data.records[0].paidState,t.bookMode=e.data.records[0].bookMode,t.paramsRepairOrderNo=e.data.records[0].repairOrderNo,t.isEvaluate=e.data.records[0].isEvaluate,t.userCancelState=e.data.records[0].userCancelState,t.cateingState=e.data.records[0].groupState,t.canCancel=e.data.records[0].canCancel,t.mallName=e.data.records[0].mallName,t.address=e.data.records[0].provinceName+e.data.records[0].cityName+e.data.records[0].countryName+e.data.records[0].address;for(var s=[],i=[],a=[],r=0;r<e.data.records.length;r++){s.push(e.data.records[r].number),i.push(e.data.records[r].payAmount),a.push(e.data.records[r].realAmount);for(var o=[],n=[],c=0;c<e.data.records[r].orderItemList.length;c++){if(e.data.records[r].orderItemList[c].specDyncJson){o=JSON.parse(e.data.records[r].orderItemList[c].specDyncJson);for(var l="",d=0;d<o.length;d++)l=l+o[d].specName+"×"+o[d].number+" ";e.data.records[r].orderItemList[c].specDyncJsonValue=l}else e.data.records[r].orderItemList[c].specDyncJsonValue="";if(e.data.records[r].orderItemList[c].specOptionJson){n=JSON.parse(e.data.records[r].orderItemList[c].specOptionJson);for(var u="",p=0;p<n.length;p++)u=u+n[p].remark+" ";e.data.records[r].orderItemList[c].specDyncJsonValue=e.data.records[r].orderItemList[c].specDyncJsonValue+u}}}var v=function(t,e){return t+e},f=s.reduce(v,0),m=i.reduce(v,0).toFixed(2),_=i.reduce(v,0).toFixed(2),C=(_-m).toFixed(2);t.totalNumber=f,t.totalPrice=m,t.discountPrice=C,t.orderItemList={shopName:e.data.shopName,skuSpecValues:e.data.skuSpecValues,number:e.data.number,salePrice:e.data.salePrice}}})).catch((function(){}))},getUserDetails:function(){var t=this,e={orderType:this.paramsOrderType,orderNo:this.paramsTradeNo};this.$api.getOrderDetail(e).then((function(e){t.$toast.clear(),t.expireTime=new Date(e.data.expireTime.replace(/-/g,"/")).getTime()-e.timestamp;for(var s=e.data.orderItemList,i={},a=[],o=0;o<s.length;o++){for(var n=s[o],c=0;c<n.remark.length;c++)if(JSON.parse(n.remark)[c].shopCode===n.shopCode){e.data.orderItemList[o].remark=JSON.parse(n.remark)[c].remark;break}if(i[n.shopCode])for(var l=0;l<s.length;l++){var d=a[l];if(d.shopCode===n.shopCode){d.orderItemList.push(n);break}}else a.push({shopCode:n.shopCode,shopName:n.shopName,shopAlias:n.shopAlias,deliverType:n.deliverType,state:n.state,paidState:e.data.paidState,bookMode:n.bookMode,repairOrderNo:n.repairOrderNo,address:n.address,receiver:n.receiver,mobile:n.mobile,selectReceiveTime:e.data.selectReceiveTime,submitTime:n.submitTime,serviceDeliverName:n.serviceDeliverName,serviceDeliverPhone:n.serviceDeliverPhone,serviceDeliverState:n.serviceDeliverState,freightAmount:e.data.freightAmount,dcouponAmount2:e.data.dcouponAmount2,deductionPoints:e.data.deductionPoints,couponAmount1:e.data.couponAmount1,remark:n.remark,payAmount:e.data.payAmount,pointsAmount:n.pointsAmount,orderNo:e.data.orderNo,payTime:n.payTime,cancelTime:e.data.cancelTime,userCancelReasonStr:n.userCancelReasonStr,cancelReason:n.cancelReason,rewardsAAmount:n.rewardsAAmount,rejectionTime:n.rejectionTime,crejectionTime:n.crejectionTime,orderType:e.data.orderType,mainPicUrl:n.mainPicUrl,shopLogoUrl:n.shopLogoUrl,number:e.data.number,deliverCheckCode:e.data.deliverCheckCode,userCancelState:e.data.userCancelState,salePrice:n.salePrice,saleAmount:n.saleAmount,realAmount:e.data.realAmount,tradeNo:e.data.tradeNo,skuCode:n.skuCode,orderItemList:[n]}),i[n.shopCode]=n}t.newp=a,t.shopList=a,t.productList=a[0],t.deliverType=a[0].deliverType,t.orederState=a[0].state,t.paidState=a[0].paidState,t.bookMode=e.data.bookMode,t.selectReceiveTime=e.data.selectReceiveTime,t.paramsRepairOrderNo=a[0].repairOrderNo,t.isEvaluate=e.data.isEvaluate,t.mallName=e.data.mallName,t.userCancelState=e.data.userCancelState,t.deliverState=e.data.deliverState,t.cateingState=a[0].state,t.totalNumber=e.data.number,t.totalPrice=e.data.payAmount.toFixed(2),t.realAmount=e.data.realAmount,t.address=e.data.orderItemList[0].provinceName+e.data.orderItemList[0].cityName+e.data.orderItemList[0].countryName+e.data.orderItemList[0].address;for(var u=function(t,e){return t+e},p=[],v=[],f=0;f<a.length;f++){for(var h=[],m=[],_=[],C=[],y=0;y<a[f].orderItemList.length;y++){if(m.push(a[f].orderItemList[y].payAmount),h.push(a[f].orderItemList[y].number),a[f].orderItemList[y].specDyncJson){_=JSON.parse(a[f].orderItemList[y].specDyncJson);for(var g="",E=0;E<_.length;E++)g=g+_[E].specName+"×"+_[E].number+" ";a[f].orderItemList[y].specDyncJsonValue=g}else a[f].orderItemList[y].specDyncJsonValue="";if(a[f].orderItemList[y].specOptionJson){C=JSON.parse(a[f].orderItemList[y].specOptionJson);for(var A="",S=0;S<C.length;S++)A=A+C[S].remark+" ";a[f].orderItemList[y].specDyncJsonValue=a[f].orderItemList[y].specDyncJsonValue+A}}p.push({numberes:h.reduce(u,0)}),v.push({payAmountes:m.reduce(u,0)})}var b=a.map((function(t,e){return Object(r["a"])(Object(r["a"])(Object(r["a"])({},t),p[e]),v[e])}));t.shopList=b})).catch((function(){}))},cancleorder:function(t){var e=this;if("NOT_PAYED"===this.$route.query.groupState||"EXPIRE"===this.$route.query.groupState){var s={userCancelReason:"",userCancelReasonStr:""};this.confirmBtn1(s)}else{var i={caCode:"001",type:"2"};this.$refs.showDialog.order=t,l["a"].user_Cancel_Order_Reason_List(i).then((function(t){e.userCancelOrderReasonList=t.data.infos,e.$refs.showDialog.showDialog=!0}))}},setshowDialog:function(t){this.$refs.showDialog.showDialog=t},cancelConfim:function(){this.$refs.showDialog.showDialog=!1,this.$refs.showConfirmDialog.showConfirmDialog=!1},confirmBtn1:function(t,e){var s=this;this.$refs.showDialog.showDialog=!1;var i={orderNo:this.$route.query.orderNo,orderType:this.$route.query.orderType,cancelType:"USER_APPLY",cancelReason:t.id,cancelReasonStr:t.reasonName};"NOT_PAYED"===this.$route.query.groupState||"EXPIRE"===this.$route.query.groupState||"CANCEL"===this.$route.query.groupState?i.orderType="CATERING_MAIN":i.orderType="CATERING_DELIVERY";var a=this;a.toast(),l["a"].getUserCancelOrder(i).then((function(t){0===t.code&&(s.$toast.clear(),"SUCCESS"===t.data.result?Object(h["a"])({duration:2e3,message:"取消成功"}):"CANCELING"===t.data.result?Object(h["a"])({duration:3500,message:"取消申请已提交，请等待商家处理"}):Object(h["a"])({duration:3500,message:"订单状态已更新，请刷新后操作"}),"NOT_PAYED"===a.$route.query.groupState||"EXPIRE"===a.$route.query.groupState||"CANCEL"===a.$route.query.groupState?a.getUserDetails():a.getOrderDetails())}))},orderPay:function(t){this.$utils.pay.gmPay(t,"catering")},applyAfterSales:function(t){this.$router.push({path:"/applyRefund",query:{orderType:this.paramsOrderType,orderNo:t.orderNo,orderItemNo:t.orderItemNo,from:"catering",styleStatus:"0",type:"add"}})},serviceDetails:function(t){this.$router.push({path:"/serviceDetails",query:{from:"order",repairOrderNo:t.repairOrderNo,orderNo:t.orderNo,skuCode:t.skuCode}})},complete:function(t){this.$router.push({path:"/releaseEvaluation",query:{tradeNo:t.tradeNo,orderType:t.orderType,from:"catering"}})},copyCode:function(){var t=this,e=new v.a(".copy");e.on("success",(function(s){t.$toast("复制成功"),e.destroy()}))},copyData:function(){this.$copyText("".concat(this.commentObj.orderNo)).then((function(t){Object(h["a"])("复制成功")}))},shopconnect:_.a.debounce((function(t){var e=this;this.toast(),this.$api.getStoreInfo({code:t.shopCode}).then((function(s){e.$toast.clear(),e.$engine.api("com.zkty.jsi.gmimchat","openOrderShopService",{shopId:s.data.shopInfo.id,openShopDto:{scheme:Object(C["c"])(),host:C["b"],pathname:"/",fragment:"/staffRestaurant",query:{id:t.shopCode},params:{hideNavbar:!0}},orderId:t.orderNo,orderTitle:t.orderItemList[0].skuName,goodsPic:t.orderItemList[0].mainPicUrl,goodsNum:t.orderItemList[0].number,orderPrice:t.orderItemList[0].salePrice,orderCreateTime:t.orderItemList[0].createTime.replace(/(.*)\:/,"$1^").split("^")[0],openOrderDetailsDto:{scheme:Object(C["c"])(),host:C["b"],pathname:"/",fragment:"/orderdetail",query:{orderNo:t.orderNo,orderType:t.orderType,tradeNo:e.$route.query.tradeNo},params:{hideNavbar:!0}}},(function(t){0!==t.code&&t.result&&(e.$toast({forbidClick:!0,message:t.result,position:"bottom"}),setTimeout((function(){e.$toast.clear()}),1e3))}))}))}),300,{leading:!0,trailing:!1})},computed:{bottomHeight:function(){return this.$tabbarHeight+"px"},orederStatusName:function(){switch(this.cateingState){case"STOCKUP_PENDING":return"待接单";case"DELIVERY_PENDING":return"已接单";case"DELIVERING":return"备餐中";case"RECEIVING":return"HERE"===this.deliverType||"SELF"===this.deliverType?"待取餐":"EXPRESS"===this.deliverType?"配送中":"PICK_PENDING"===this.deliverState?"备餐中":"配送中";case"COMPLETE":return"已完成";case"CLOSE":return"已取消";case"CANCEL":return"已取消";case"EXPIRE":return"已取消";case"PAID_CANCEL":return"已取消";case"STOCKUP_CANCEL":return"已取消";case"NOT_PAYED":return"待支付";case"REJECT":return"已拒单"}}},watch:{},mounted:function(){}},g=y,E=(s("f7b6"),s("2877")),A=Object(E["a"])(g,i,a,!1,null,"3ead0737",null);e["default"]=A.exports},"1b08":function(t,e,s){},"408a":function(t,e,s){var i=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"4ca2":function(t,e,s){"use strict";s.d(e,"c",(function(){return i})),s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return r}));var i=function(){var t=window.location.protocol;return/^http/.test(t)?"omp":"microapp"},a="omp"===i()?Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://api.lohashow.com/",BASE_URL:""}).VUE_APP_MALL_BASE_URL:"com.gm.microapp.mall",r="omp"===i()?Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://api.lohashow.com/",BASE_URL:""}).VUE_APP_VUEMALL_BASE_URL:"com.gm.microapp.mall"},"4da7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTQxNzE3NzlBRkFCMTFFQjg4NzdDOENEQkY2ODk1MEUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTQxNzE3N0FBRkFCMTFFQjg4NzdDOENEQkY2ODk1MEUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NDE3MTc3N0FGQUIxMUVCODg3N0M4Q0RCRjY4OTUwRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1NDE3MTc3OEFGQUIxMUVCODg3N0M4Q0RCRjY4OTUwRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvSZOgsAAAMXSURBVHja7JhbiE1RGMfPwQwjxnUSx4MHHuRhXBKREC+GSUiU4rjmYdzKLbdciym5JUKdM1FM8mBmnIfhUSkkhCjCg2PSMEcjM4bm+C/+uz7LXnvvadvbaTpf/TprnbX2Xt/61vq+9a0dzWazkVyWLpEcl27JZNLUNhjMAyUBjNsEroO3pg7xePy3gob2qaAGFAdonMNgEajt6BIXgUsBK2eNU+W2QnYWXAeGsqw86C5//6WMAwWgHzgE1nhVsC/YJurXwMIArHcMbGR5BTgLHnhZ4q2gP8s/wK6Alncv+MByV3DSyx5UXrtB1BPgRUAKfgY7RH0yWOKm4B7Qk+UWsC9gJ1EGuC/qlaCXScHhYKX4/xR4F7CC7WC9cMAhYKdJwYP0KiUZxqgw5A5DmiWbaKw/FByjeWolI31YoqJGM8vdwVFdwc3CkmlwIuTj9j1X0JJyMEIqOF00Ku2/2rxkFejjMtAZMNqlz2IQs/n/OGhkOSp1UgoOEB0f2Ty8FJzjmVlkGHg/WAvqxCmki0o8LrKP7q1t4LmoD5QKpkXDTO3BaeA8ZzUFXBXOFBEngRXQY1RAt/YMcJknl7LyFQZoS5SRSkU9LRVMiYYtjPKTGLSV1QpF+2xwG8wCE7k0FzgBS9RA98B8MJ7xNUUHkO+ppeJqz9WD3uIEq7c6RhOJxDD8PhYd/recBhVWPqgs+Iabt8UhoG5nzDKJChNzmISapI2r8sShz01Glb8CdYrxsBq0ivaH3HtHmMSqDOSpiP4fuUdHgRt0hGVM0drZ5wvfO5ZJwQRwAHwX47yk8mXa+L+WWJ9FHfeIdcLstplpD5JxsEYBt02TIZ9sFBGknON6TvndpFWfqY0oC33q9Le6vIK+78U+nqvw0O+ZDLphKljIi4+bVPlVsNMusS6vwTeWB/G+m1NOok6QkaQ6H2byCvp0EnnGLrfJsjsysTKHNK3YMKargrfAApHCx3wYoCTi/gE0wwzc8xKrC1JNSCuokuTV/Fbj2YIq0ZzLHK1Uu9yYpEHLJxs8PNPMDPyVU6do/iu/T/kpwADL+p6W43sOpgAAAABJRU5ErkJggg=="},"502c":function(t,e,s){},"511b":function(t,e,s){"use strict";s("502c")},5319:function(t,e,s){"use strict";var i=s("d784"),a=s("825a"),r=s("50c4"),o=s("a691"),n=s("1d80"),c=s("8aa5"),l=s("0cb2"),d=s("14c3"),u=Math.max,p=Math.min,v=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,e,s,i){var f=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=i.REPLACE_KEEPS_$0,m=f?"$":"$0";return[function(s,i){var a=n(this),r=void 0==s?void 0:s[t];return void 0!==r?r.call(s,a,i):e.call(String(a),s,i)},function(t,i){if(!f&&h||"string"===typeof i&&-1===i.indexOf(m)){var n=s(e,t,this,i);if(n.done)return n.value}var _=a(t),C=String(this),y="function"===typeof i;y||(i=String(i));var g=_.global;if(g){var E=_.unicode;_.lastIndex=0}var A=[];while(1){var S=d(_,C);if(null===S)break;if(A.push(S),!g)break;var b=String(S[0]);""===b&&(_.lastIndex=c(C,r(_.lastIndex),E))}for(var N="",L=0,T=0;T<A.length;T++){S=A[T];for(var D=String(S[0]),k=u(p(o(S.index),C.length),0),P=[],I=1;I<S.length;I++)P.push(v(S[I]));var R=S.groups;if(y){var O=[D].concat(P,k,C);void 0!==R&&O.push(R);var w=String(i.apply(void 0,O))}else w=l(D,C,k,P,R,i);k>=L&&(N+=C.slice(L,k)+w,L=k+D.length)}return N+C.slice(L)}]}))},"605b":function(t,e,s){},"80fd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAE9UlEQVRYR+2YX4hUVRzHv78zo6OzGptUD7tBRNY+mFFZQaAPixVYQWC0UOnCtnPnXEuqDTKCchoJwgKtaPOeuTMtmAkNKD1UPmgtZBCkVmQFllJCuw8V7VLt5uje84uz3LvMXPfO310z6DzNnfP78zm/3/nzO4dwkTe6yPnQNODQ0NCic+fOrdNa30FEqwBcDaDdH/A4gB+Z+ZgQ4tCCBQsO9PX1nWkmGA0D7ty5s72tre1xZn4SwKV1Oh0jolcnJiZeHxgYMPB1t4YAHcfpI6IdZZGqcMTMf5s/iGhxBME4Mz9l2/ZQvYR1ASqlkgAcABtDho8A2O953sFEIvF9f3//n6a/UCgsLZVK18VisTsBrAdwa0jvbQC2lHKyFmhNwGKxuHB8fPx9ZjbOgnYkFos9m0qlPqrlwPTn8/m1nue9VA5KRAfb29vv7enpOVvNRlXATCYjOjs7i8x8v29EM/P2rq6urd3d3VP1wAUyw8PD8RMnTmwjomcACH8q7BsZGenJZrM6ylZVQKXUYwDe8JWZiDan0+k3GwELy+ZyuUeZ2dgMfG+WUg42DOi67pVa628BXGKUmXmbbduZVuACXcdxskS01f/+QwixwrKsn2ezHRlBpVQBwCO+0tHR0dHbs9lsQ2mNGkwmk4l3dHR8BuAWX+YtKWV/3YD5fH6Z53mjABK+0hop5adzEb3AhlJqNYDD/ncpFot1pFKp38M+Zo2g67r9Wuu8n9pjtm0HI51LRjiOc9Q/hSCESFmWZbJW0WYFVEq9A+AhIymE2GJZ1itzSuYbc133aa31y/7nXinlw/UCHgdw/XylNyLN30gpV1YFNAVAqVSSRGRGtdAIE9FpZvZ8RZZSLm8lmkqpk8EWQ0QxZr7Kt3eWmbckEglVXljMpHj37t1tk5OTB4hoTTUAKWXN06eavlKKq/Uz8+FkMrmut7d3YjpAgXBob4q0Md+A/sKc2XNnAJVSPwAI0rcPwB4hBGutTQpeC4jnGPAJIcRprTUR0YayI/WklPLaiggqpcwmHPPn3U3pdPor81spZSbu1/MEeIOU0ixI5HK5G5n5S9+PJ6WMhwHL58aM4oUCjPJTnuL/Af0p01Ag/lMRNOX6En+Zb7Rte8+FXCSO42wgInMVMO0vKeXSikWSy+U+YOa7fQFT4f5qykAAZjVdNk+r+DcAZvcwmby8rNL+MJ1O31MB6LruKq21KakW/ZsnCYAzQojVlmUdqwD009kNwAVwTRTkHG/UYTenAFhSyuGg47xzlZlp165dK+Px+BVmhw9bsG37YLUI1+orP4uZ+S4jb06sqampXzZt2nSciCrO6pYO/low4f5isRgbGxubuTbUk42WAAcHB5fE4/HNANYCmF51oWbKtJ/M1dikTSl1M4DpuQXgrJQyuFJEjrVpQPNGk0wmPwFwXpE5izeTtueI6D5mvs3v/05KuaJWFpoGVEqZN5qBWg6i+pn5edu2X6yl3wqgqYyD1f4ugENhZ8y8mIheALAs1PcFAHNTbP1tJmqESilz0e40/cycicfj+8OyWuvFzGzgzdvhdCOij4UQD8x2xZzNV9MRzOVye5n5wVopKgNjZl4vpXyvXp3pATUiXC6bz+eXe573eQOPmJGvB9UYmgY0RguFQpfneduZ2Wwz04VGqJlt5hQRuSMjIzuqvWJFQbYE2Gz0G9G76AH/ASECN0dXIvYlAAAAAElFTkSuQmCC"},"9a22":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-dialog",{staticClass:"confrim-dialog",model:{value:t.showConfirmDialog,callback:function(e){t.showConfirmDialog=e},expression:"showConfirmDialog"}},[s("div",{staticClass:"content"},[s("p",{staticClass:"title"},[t._v(t._s(t.confirmTitle))]),t.confirmValue?s("p",{staticClass:"content"},[t._v(t._s(t.confirmValue))]):t._e(),t.hasField?s("van-field",{attrs:{type:"textarea",rows:"2",placeholder:t.diaSetPlaceholder,rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.diaSetvalueCom,callback:function(e){t.diaSetvalueCom=e},expression:"diaSetvalueCom"}}):t._e(),s("p",{staticClass:"btn"},[t.hasCancel?s("span",{staticClass:"cancel-btn",on:{click:t.cancelConfim}},[t._v(" "+t._s(t.cancelBtnText?t.cancelBtnText:"取消")+" ")]):t._e(),s("span",{class:t.hasCancel?"confirm-btn":"confirm-btn confirm-btn-all",on:{click:t.confirmBtn}},[t._v(" "+t._s(t.confirmBtnText?t.confirmBtnText:"确定")+" ")])])],1)])},a=[],r={name:"ConfirmDialog",props:{hasCancel:{type:Boolean,default:!1},hasField:{type:Boolean,default:!1},confirmTitle:{type:String,default:""},confirmValue:{type:String,default:""},cancelBtnText:{type:String,default:""},confirmBtnText:{type:String,default:""},diaSetvalue:{type:String,default:""},diaSetPlaceholder:{type:String,default:""}},components:{},data:function(){return{showConfirmDialog:!1,diaSetvalueCom:this.diaSetvalue}},watch:{showConfirmDialog:function(t){this.diaSetvalueCom="",this.$emit("setshowConfirmDialog",t)}},methods:{cancelConfim:function(){this.$parent.cancelConfim()},confirmBtn:function(){this.$parent.confirmBtn(this.diaSetvalueCom)}}},o=r,n=(s("deb0"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,null,null);e["a"]=c.exports},a125:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAARERESEhJqI8CzAAAAAnRSTlMAw3T+XjIAAAAoSURBVAjXY2BAAWyrlkitmsDAtWqF1qoFDFwMGhoMBCiISqg+2hkGAEs4H6VMAIp8AAAAAElFTkSuQmCC"},b311:function(t,e,s){
/*!
 * clipboard.js v2.0.8
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(e,s){t.exports=s()})(0,(function(){return function(){var t={134:function(t,e,s){"use strict";s.d(e,{default:function(){return D}});var i=s(279),a=s.n(i),r=s(370),o=s.n(r),n=s(817),c=s.n(n);function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,s){return e&&u(t.prototype,e),s&&u(t,s),t}var v=function(){function t(e){d(this,t),this.resolveOptions(e),this.initSelection()}return p(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var t="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var e=window.pageYOffset||document.documentElement.scrollTop;return this.fakeElem.style.top="".concat(e,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var t=this,e=this.createFakeElement();this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(e),this.selectedText=c()(e),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=c()(this.target),this.copyText()}},{key:"copyText",value:function(){var t;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==l(t)||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}(),f=v;function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e,s){return e&&_(t.prototype,e),s&&_(t,s),t}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function E(t){var e=b();return function(){var s,i=N(t);if(e){var a=N(this).constructor;s=Reflect.construct(i,arguments,a)}else s=i.apply(this,arguments);return A(this,s)}}function A(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?S(t):e}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function L(t,e){var s="data-clipboard-".concat(t);if(e.hasAttribute(s))return e.getAttribute(s)}var T=function(t){y(s,t);var e=E(s);function s(t,i){var a;return m(this,s),a=e.call(this),a.resolveOptions(i),a.listenClick(t),a}return C(s,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===h(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=o()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return L("action",t)}},{key:"defaultTarget",value:function(t){var e=L("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return L("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,s=!!document.queryCommandSupported;return e.forEach((function(t){s=s&&!!document.queryCommandSupported(t)})),s}}]),s}(a()),D=T},828:function(t){var e=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var s=Element.prototype;s.matches=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}function i(t,s){while(t&&t.nodeType!==e){if("function"===typeof t.matches&&t.matches(s))return t;t=t.parentNode}}t.exports=i},438:function(t,e,s){var i=s(828);function a(t,e,s,i,a){var r=o.apply(this,arguments);return t.addEventListener(s,r,a),{destroy:function(){t.removeEventListener(s,r,a)}}}function r(t,e,s,i,r){return"function"===typeof t.addEventListener?a.apply(null,arguments):"function"===typeof s?a.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return a(t,e,s,i,r)})))}function o(t,e,s,a){return function(s){s.delegateTarget=i(s.target,e),s.delegateTarget&&a.call(t,s)}}t.exports=r},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var s=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===s||"[object HTMLCollection]"===s)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},370:function(t,e,s){var i=s(879),a=s(438);function r(t,e,s){if(!t&&!e&&!s)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(s))throw new TypeError("Third argument must be a Function");if(i.node(t))return o(t,e,s);if(i.nodeList(t))return n(t,e,s);if(i.string(t))return c(t,e,s);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,s){return t.addEventListener(e,s),{destroy:function(){t.removeEventListener(e,s)}}}function n(t,e,s){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,s)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,s)}))}}}function c(t,e,s){return a(document.body,t,e,s)}t.exports=r},817:function(t){function e(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var s=t.hasAttribute("readonly");s||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),s||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),a=document.createRange();a.selectNodeContents(t),i.removeAllRanges(),i.addRange(a),e=i.toString()}return e}t.exports=e},279:function(t){function e(){}e.prototype={on:function(t,e,s){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:s}),this},once:function(t,e,s){var i=this;function a(){i.off(t,a),e.apply(s,arguments)}return a._=e,this.on(t,a,s)},emit:function(t){var e=[].slice.call(arguments,1),s=((this.e||(this.e={}))[t]||[]).slice(),i=0,a=s.length;for(i;i<a;i++)s[i].fn.apply(s[i].ctx,e);return this},off:function(t,e){var s=this.e||(this.e={}),i=s[t],a=[];if(i&&e)for(var r=0,o=i.length;r<o;r++)i[r].fn!==e&&i[r].fn._!==e&&a.push(i[r]);return a.length?s[t]=a:delete s[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={exports:{}};return t[i](a,a.exports,s),a.exports}return function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),s(134)}().default}))},b680:function(t,e,s){"use strict";var i=s("23e7"),a=s("a691"),r=s("408a"),o=s("1148"),n=s("d039"),c=1..toFixed,l=Math.floor,d=function(t,e,s){return 0===e?s:e%2===1?d(t,e-1,s*t):d(t*t,e/2,s)},u=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},p=function(t,e,s){var i=-1,a=s;while(++i<6)a+=e*t[i],t[i]=a%1e7,a=l(a/1e7)},v=function(t,e){var s=6,i=0;while(--s>=0)i+=t[s],t[s]=l(i/e),i=i%e*1e7},f=function(t){var e=6,s="";while(--e>=0)if(""!==s||0===e||0!==t[e]){var i=String(t[e]);s=""===s?i:s+o.call("0",7-i.length)+i}return s},h=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){c.call({})}));i({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,s,i,n,c=r(this),l=a(t),h=[0,0,0,0,0,0],m="",_="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(e=u(c*d(2,69,1))-69,s=e<0?c*d(2,-e,1):c/d(2,e,1),s*=4503599627370496,e=52-e,e>0){p(h,0,s),i=l;while(i>=7)p(h,1e7,0),i-=7;p(h,d(10,i,1),0),i=e-1;while(i>=23)v(h,1<<23),i-=23;v(h,1<<i),p(h,1,1),v(h,2),_=f(h)}else p(h,0,s),p(h,1<<-e,0),_=f(h)+o.call("0",l);return l>0?(n=_.length,_=m+(n<=l?"0."+o.call("0",l-n)+_:_.slice(0,n-l)+"."+_.slice(n-l))):_=m+_,_}})},d58f:function(t,e,s){var i=s("1c0b"),a=s("7b0b"),r=s("44ad"),o=s("50c4"),n=function(t){return function(e,s,n,c){i(s);var l=a(e),d=r(l),u=o(l.length),p=t?u-1:0,v=t?-1:1;if(n<2)while(1){if(p in d){c=d[p],p+=v;break}if(p+=v,t?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:u>p;p+=v)p in d&&(c=s(c,d[p],p,l));return c}};t.exports={left:n(!1),right:n(!0)}},deb0:function(t,e,s){"use strict";s("1b08")},e381:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{staticClass:"show-dialog",attrs:{position:"bottom"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[s("div",{staticClass:"content"},[s("p",{staticClass:"title"},[t._v(t._s(t.dialogTitle))]),s("div",{staticClass:"container"},[s("van-radio-group",{staticClass:"choose-style-radio",on:{change:t.chooseStyle},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.dataArr,(function(e,i){return s("van-cell",{key:i,attrs:{title:e.reasonName,clickable:""},on:{click:function(s){return t.chooseRadio(e)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[s("van-radio",{attrs:{name:e.reasonName,"checked-color":"#FFA824","icon-size":"16px"}})]},proxy:!0}],null,!0)})})),1)],1)]),s("p",{staticClass:"dialog-btn",style:{height:t.bottomHeight}},[s("van-button",{staticClass:"cancel-btn",attrs:{type:"primary"},on:{click:t.cancelConfim}},[t._v("取消")]),s("van-button",{staticClass:"btn",attrs:{type:"primary",disabled:""===t.data},on:{click:t.confirmBtn}},[t._v("确定")])],1)])},a=[],r={name:"ShowDialog",props:{dialogTitle:{type:String,default:""},dialogValue:{type:String,default:""},dataArr:{type:Array,default:function(){return[]}}},components:{},data:function(){return{radio:"0",showDialog:!1,defaultValue:"",data:"",order:""}},watch:{showDialog:function(t){this.$emit("setshowDialog",t)}},computed:{bottomHeight:function(){return this.$tabbarHeight+"px"}},methods:{cancelConfim:function(){this.$emit("cancelConfim")},confirmBtn:function(){this.$emit("confirmBtn",this.data,this.order)},chooseStyle:function(t){this.radio=t},chooseRadio:function(t){this.data=t,this.radio=t.reasonName,this.defaultValue=t.userCancelReasonStr}}},o=r,n=(s("511b"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,null,null);e["a"]=c.exports},f7b6:function(t,e,s){"use strict";s("605b")}}]);